{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dhanush\\\\Downloads\\\\cinemate (5)\\\\cinemate\\\\frontend\\\\src\\\\pages\\\\UserPreferences.js\",\n  _s = $RefreshSig$();\n/** @format */\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport Authentication from \"../components/Authentication\";\nimport { fetchGenres, searchMovies, getCurrentUser, fetchUserProfile, addFavoriteGenre, addFavoriteMovie, addWatchedMovie, saveMovieToDatabase } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserPreferences = ({\n  userPreferences,\n  updateUserPreferences\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [genres, setGenres] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedGenres, setSelectedGenres] = useState((userPreferences === null || userPreferences === void 0 ? void 0 : userPreferences.favoriteGenres) || []);\n  const [favoriteMovies, setFavoriteMovies] = useState((userPreferences === null || userPreferences === void 0 ? void 0 : userPreferences.favoriteMovies) || []);\n  const [watchedMovies, setWatchedMovies] = useState((userPreferences === null || userPreferences === void 0 ? void 0 : userPreferences.watchedMovies) || []);\n  const [loading, setLoading] = useState(false);\n  const [searching, setSearching] = useState(false);\n  const [error, setError] = useState(null);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n\n  // Authentication and user profile states\n  const [user, setUser] = useState(getCurrentUser());\n  const [userProfile, setUserProfile] = useState(null);\n  const [loadingProfile, setLoadingProfile] = useState(false);\n\n  // Load user profile if authenticated\n  console.log(\"selectedGenres\", selectedGenres);\n  console.log(\"favoriteMovies\", favoriteMovies);\n  console.log(\"watchedMovies\", watchedMovies);\n  useEffect(() => {\n    const loadUserProfile = async () => {\n      if (user) {\n        try {\n          setLoadingProfile(true);\n          const profile = await fetchUserProfile();\n          setUserProfile(profile);\n        } catch (err) {\n          console.error(\"Error fetching user profile:\", err);\n        } finally {\n          setLoadingProfile(false);\n        }\n      }\n    };\n    loadUserProfile();\n  }, [user]);\n  useEffect(() => {\n    const loadGenres = async () => {\n      try {\n        setLoading(true);\n        const genresData = await fetchGenres();\n        setGenres(genresData.genres);\n        setError(null);\n      } catch (err) {\n        setError(\"Failed to load genres. Please try again later.\");\n        console.error(\"Error fetching genres:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadGenres();\n  }, []);\n  useEffect(() => {\n    // Initialize selected genres from user preferences\n    setSelectedGenres(userPreferences.favoriteGenres || []);\n    setFavoriteMovies(userPreferences.favoriteMovies || []);\n    setWatchedMovies(userPreferences.watchedMovies || []);\n  }, [userPreferences]);\n  const handleGenreToggle = genreId => {\n    setSelectedGenres(prev => {\n      if (prev.includes(genreId)) {\n        return prev.filter(id => id !== genreId);\n      } else {\n        return [...prev, genreId];\n      }\n    });\n  };\n  const handleSearch = async () => {\n    if (!searchQuery.trim()) return;\n    try {\n      setSearching(true);\n      setError(null);\n      const data = await searchMovies(searchQuery);\n      setSearchResults(data.results);\n    } catch (err) {\n      setError(\"Failed to search movies. Please try again later.\");\n      console.error(\"Error searching movies:\", err);\n    } finally {\n      setSearching(false);\n    }\n  };\n  const handleAddFavorite = movie => {\n    const movieExists = favoriteMovies.some(m => m.id === movie.id);\n    if (!movieExists) {\n      const newMovie = {\n        id: movie.id,\n        title: movie.title,\n        poster_path: movie.poster_path,\n        genre_ids: movie.genre_ids\n      };\n      setFavoriteMovies(prev => [...prev, newMovie]);\n    }\n  };\n  const handleRemoveFavorite = movieId => {\n    setFavoriteMovies(prev => prev.filter(movie => movie.id !== movieId));\n  };\n  const handleRemoveWatched = movieId => {\n    setWatchedMovies(prev => prev.filter(movie => movie.id !== movieId));\n  };\n\n  // Handle authentication\n  const handleAuthSuccess = authData => {\n    setUser(getCurrentUser());\n  };\n\n  // Save preferences to database if logged in, or to local state if not\n  const handleSavePreferences = async () => {\n    if (user && userProfile) {\n      try {\n        setLoading(true);\n\n        // First, sync selected genres to user profile\n        for (const genreId of selectedGenres) {\n          await addFavoriteGenre(userProfile.id, genreId);\n        }\n\n        // Save favorite movies to database\n        for (const movie of favoriteMovies) {\n          // First save the movie to the database\n          const savedMovie = await saveMovieToDatabase(movie.id);\n          // Then add it to user's favorites\n          await addFavoriteMovie(userProfile.id, savedMovie.id);\n        }\n\n        // Save watch history\n        for (const movie of watchedMovies) {\n          const savedMovie = await saveMovieToDatabase(movie.id);\n          await addWatchedMovie(userProfile.id, savedMovie.id);\n        }\n        setSaveSuccess(true);\n      } catch (err) {\n        setError(\"Failed to save preferences to your profile. Please try again.\");\n        console.error(\"Error saving preferences:\", err);\n      } finally {\n        setLoading(false);\n      }\n    } else {\n      // Save to local storage via parent component\n      updateUserPreferences({\n        favoriteGenres: selectedGenres,\n        favoriteMovies: favoriteMovies,\n        watchedMovies: watchedMovies\n      });\n      setSaveSuccess(true);\n    }\n\n    // Reset success message after 3 seconds\n    setTimeout(() => {\n      setSaveSuccess(false);\n    }, 3000);\n  };\n  const handleViewRecommendations = () => {\n    navigate(\"/recommendations\");\n  };\n\n  // Show authentication form if user is not authenticated\n  if (!user && userPreferences.requireAuth) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign In to Save Your Preferences\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-description\",\n        children: \"Sign in or create an account to save your movie preferences and get personalized recommendations across devices.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Authentication, {\n        onAuthSuccess: handleAuthSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 4\n    }, this);\n  }\n  if (loading || loadingProfile) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      message: \"Loading data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 10\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"preferences-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preferences-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Your Movie Preferences\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"description\",\n        children: \"Customize your movie preferences to get personalized recommendations. Select your favorite genres and movies to help us understand your taste.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 4\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-exclamation-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 6\n      }, this), \" \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }, this), saveSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-check-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 6\n      }, this), \" Your preferences have been saved successfully!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preferences-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Favorite Genres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-description\",\n          children: \"Select the genres you enjoy watching the most.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"genres-grid\",\n          children: genres.map(genre => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `genre-item ${selectedGenres.includes(genre.id) ? \"selected\" : \"\"}`,\n            onClick: () => handleGenreToggle(genre.id),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"genre-name\",\n              children: genre.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 9\n            }, this), selectedGenres.includes(genre.id) && /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-check selected-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 10\n            }, this)]\n          }, genre.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 8\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Favorite Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-description\",\n          children: \"Search and add movies that you love to get better recommendations.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              placeholder: \"Search for movies...\",\n              className: \"search-input\",\n              onKeyDown: e => e.key === \"Enter\" && handleSearch()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"search-button\",\n              onClick: handleSearch,\n              disabled: searching,\n              children: searching ? /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-spinner fa-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 10\n              }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 6\n        }, this), searching && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-container\",\n          children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n            size: \"small\",\n            message: \"Searching movies...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 7\n        }, this), searchResults.length > 0 && !searching && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Search Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"movie-results-grid\",\n            children: searchResults.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"movie-result-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"movie-poster-container\",\n                children: movie.poster_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `https://image.tmdb.org/t/p/w200${movie.poster_path}`,\n                  alt: movie.title,\n                  className: \"movie-poster\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 13\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no-poster\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-film\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 14\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"movie-result-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: movie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"movie-year\",\n                  children: movie.release_date ? new Date(movie.release_date).getFullYear() : \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"add-favorite-btn\",\n                  onClick: () => handleAddFavorite(movie),\n                  disabled: favoriteMovies.some(m => m.id === movie.id),\n                  children: favoriteMovies.some(m => m.id === movie.id) ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-check\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 15\n                    }, this), \" Added\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 14\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-plus\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 15\n                    }, this), \" Add to Favorites\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 14\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 11\n              }, this)]\n            }, movie.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-movies\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Your Favorite Movies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 7\n          }, this), favoriteMovies.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"You haven't added any favorite movies yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-movies-grid\",\n            children: favoriteMovies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selected-movie-card\",\n              children: [movie.poster_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `https://image.tmdb.org/t/p/w200${movie.poster_path}`,\n                alt: movie.title,\n                className: \"selected-movie-poster\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 12\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-poster\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-film\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"selected-movie-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: movie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-btn\",\n                  onClick: () => handleRemoveFavorite(movie.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-times\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 13\n                  }, this), \" Remove\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 11\n              }, this)]\n            }, movie.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Watched Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-description\",\n          children: \"Movies you've marked as watched.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"watched-movies\",\n          children: watchedMovies.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"You haven't marked any movies as watched yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"watched-movies-grid\",\n            children: watchedMovies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"watched-movie-card\",\n              children: [movie.poster_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `https://image.tmdb.org/t/p/w200${movie.poster_path}`,\n                alt: movie.title,\n                className: \"watched-movie-poster\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 12\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-poster\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-film\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"watched-movie-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: movie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-btn\",\n                  onClick: () => handleRemoveWatched(movie.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-times\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 13\n                  }, this), \" Remove\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 11\n              }, this)]\n            }, movie.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary save-btn\",\n          onClick: handleSavePreferences,\n          children: \"Save Preferences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary view-recommendations-btn\",\n          onClick: handleViewRecommendations,\n          children: \"View Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 4\n    }, this), !user && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-prompt\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-prompt-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Save Your Preferences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Create an account or sign in to save your preferences and get personalized recommendations across devices.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sign-in-btn\",\n          onClick: () => navigate(\"/login\"),\n          children: \"Sign In / Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n\t\t\t\t.auth-container {\n\t\t\t\t\tmax-width: 500px;\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.auth-container h2 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-description {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt {\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.05);\n\t\t\t\t\tborder: 1px solid rgba(1, 180, 228, 0.2);\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tpadding: 1.5rem;\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt-content {\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt h3 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt p {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.sign-in-btn {\n\t\t\t\t\tbackground-color: var(--primary);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tpadding: 0.6rem 1.2rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: background-color 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.sign-in-btn:hover {\n\t\t\t\t\tbackground-color: #021d2f;\n\t\t\t\t}\n\t\t\t\t.preferences-page {\n\t\t\t\t\tmin-height: 100%;\n\t\t\t\t\tpadding: 10px;\n\t\t\t\t}\n\n\t\t\t\t.preferences-header {\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.preferences-header h1 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.description {\n\t\t\t\t\tmax-width: 800px;\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 1.1rem;\n\t\t\t\t}\n\n\t\t\t\t.success-message {\n\t\t\t\t\tbackground-color: rgba(56, 142, 60, 0.1);\n\t\t\t\t\tcolor: var(--success);\n\t\t\t\t\tpadding: 1rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.success-message i {\n\t\t\t\t\tmargin-right: 0.5rem;\n\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-content {\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section {\n\t\t\t\t\tmargin-bottom: 3rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section:last-child {\n\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section h2 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t\tfont-size: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.section-description {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.genres-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.genre-item {\n\t\t\t\t\tpadding: 0.75rem 1rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.genre-item:hover {\n\t\t\t\t\tborder-color: var(--accent);\n\t\t\t\t\ttransform: translateY(-2px);\n\t\t\t\t}\n\n\t\t\t\t.genre-item.selected {\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.1);\n\t\t\t\t\tborder-color: var(--accent);\n\t\t\t\t}\n\n\t\t\t\t.selected-icon {\n\t\t\t\t\tcolor: var(--accent);\n\t\t\t\t}\n\n\t\t\t\t.search-container {\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.search-input-wrapper {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\n\t\t\t\t.search-input {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tpadding: 0.75rem 1rem;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.search-input:focus {\n\t\t\t\t\toutline: none;\n\t\t\t\t}\n\n\t\t\t\t.search-button {\n\t\t\t\t\tbackground-color: var(--primary);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tpadding: 0 1.5rem;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: background-color 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.search-button:hover {\n\t\t\t\t\tbackground-color: #021d2f;\n\t\t\t\t}\n\n\t\t\t\t.loading-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tpadding: 1.5rem 0;\n\t\t\t\t}\n\n\t\t\t\t.search-results {\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.search-results h3,\n\t\t\t\t.selected-movies h3,\n\t\t\t\t.watched-movies h3 {\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t\tcolor: var(--text);\n\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-results-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-card {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttransition: transform 0.3s, box-shadow 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-card:hover {\n\t\t\t\t\ttransform: translateY(-3px);\n\t\t\t\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.movie-poster-container {\n\t\t\t\t\twidth: 80px;\n\t\t\t\t\theight: 120px;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\n\t\t\t\t.movie-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t}\n\n\t\t\t\t.no-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tbackground-color: #f0f0f0;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-info {\n\t\t\t\t\tpadding: 0.75rem;\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-info h4 {\n\t\t\t\t\tmargin-bottom: 0.25rem;\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-year {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tmargin-bottom: 0.75rem;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn {\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\tborder: 1px solid var(--accent);\n\t\t\t\t\tcolor: var(--accent);\n\t\t\t\t\tpadding: 0.4rem 0.75rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\tmargin-top: auto;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn:hover:not(:disabled) {\n\t\t\t\t\tbackground-color: var(--accent);\n\t\t\t\t\tcolor: white;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn:disabled {\n\t\t\t\t\topacity: 0.7;\n\t\t\t\t\tcursor: default;\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.selected-movies-grid,\n\t\t\t\t.watched-movies-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-card,\n\t\t\t\t.watched-movie-card {\n\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\t\t\t\t\ttransition: transform 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-card:hover,\n\t\t\t\t.watched-movie-card:hover {\n\t\t\t\t\ttransform: translateY(-5px);\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-poster,\n\t\t\t\t.watched-movie-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 225px;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-info,\n\t\t\t\t.watched-movie-info {\n\t\t\t\t\tpadding: 0.75rem;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-info h4,\n\t\t\t\t.watched-movie-info h4 {\n\t\t\t\t\tfont-size: 0.95rem;\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t\tcolor: var(--text);\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t}\n\n\t\t\t\t.remove-btn {\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\tborder: 1px solid #f44336;\n\t\t\t\t\tcolor: #f44336;\n\t\t\t\t\tpadding: 0.3rem 0.6rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tfont-size: 0.8rem;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\n\t\t\t\t.remove-btn:hover {\n\t\t\t\t\tbackground-color: #f44336;\n\t\t\t\t\tcolor: white;\n\t\t\t\t}\n\n\t\t\t\t.empty-state {\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t}\n\n\t\t\t\t.preferences-actions {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t\tmargin-top: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.save-btn,\n\t\t\t\t.view-recommendations-btn {\n\t\t\t\t\tpadding: 0.75rem 2rem;\n\t\t\t\t\tfont-size: 1.1rem;\n\t\t\t\t}\n\n\t\t\t\t@media (max-width: 768px) {\n\t\t\t\t\t.genres-grid {\n\t\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n\t\t\t\t\t}\n\n\t\t\t\t\t.movie-results-grid {\n\t\t\t\t\t\tgrid-template-columns: 1fr;\n\t\t\t\t\t}\n\n\t\t\t\t\t.selected-movies-grid,\n\t\t\t\t\t.watched-movies-grid {\n\t\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n\t\t\t\t\t}\n\n\t\t\t\t\t.preferences-actions {\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t}\n\n\t\t\t\t\t.save-btn,\n\t\t\t\t\t.view-recommendations-btn {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tmax-width: 300px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 3\n  }, this);\n};\n_s(UserPreferences, \"tbdqUnOWuTPGKzbH6qFlBASyNx0=\", false, function () {\n  return [useNavigate];\n});\n_c = UserPreferences;\nexport default UserPreferences;\nvar _c;\n$RefreshReg$(_c, \"UserPreferences\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","LoadingSpinner","Authentication","fetchGenres","searchMovies","getCurrentUser","fetchUserProfile","addFavoriteGenre","addFavoriteMovie","addWatchedMovie","saveMovieToDatabase","jsxDEV","_jsxDEV","UserPreferences","userPreferences","updateUserPreferences","_s","navigate","genres","setGenres","searchQuery","setSearchQuery","searchResults","setSearchResults","selectedGenres","setSelectedGenres","favoriteGenres","favoriteMovies","setFavoriteMovies","watchedMovies","setWatchedMovies","loading","setLoading","searching","setSearching","error","setError","saveSuccess","setSaveSuccess","user","setUser","userProfile","setUserProfile","loadingProfile","setLoadingProfile","console","log","loadUserProfile","profile","err","loadGenres","genresData","handleGenreToggle","genreId","prev","includes","filter","id","handleSearch","trim","data","results","handleAddFavorite","movie","movieExists","some","m","newMovie","title","poster_path","genre_ids","handleRemoveFavorite","movieId","handleRemoveWatched","handleAuthSuccess","authData","handleSavePreferences","savedMovie","setTimeout","handleViewRecommendations","requireAuth","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onAuthSuccess","message","map","genre","onClick","name","type","value","onChange","e","target","placeholder","onKeyDown","key","disabled","size","length","src","alt","release_date","Date","getFullYear","jsx","_c","$RefreshReg$"],"sources":["C:/Users/Dhanush/Downloads/cinemate (5)/cinemate/frontend/src/pages/UserPreferences.js"],"sourcesContent":["/** @format */\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport Authentication from \"../components/Authentication\";\nimport {\n\tfetchGenres,\n\tsearchMovies,\n\tgetCurrentUser,\n\tfetchUserProfile,\n\taddFavoriteGenre,\n\taddFavoriteMovie,\n\taddWatchedMovie,\n\tsaveMovieToDatabase,\n} from \"../services/api\";\n\nconst UserPreferences = ({ userPreferences, updateUserPreferences }) => {\n\tconst navigate = useNavigate();\n\tconst [genres, setGenres] = useState([]);\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\n\tconst [searchResults, setSearchResults] = useState([]);\n\tconst [selectedGenres, setSelectedGenres] = useState(\n\t\tuserPreferences?.favoriteGenres || []\n\t);\n\tconst [favoriteMovies, setFavoriteMovies] = useState(\n\t\tuserPreferences?.favoriteMovies || []\n\t);\n\tconst [watchedMovies, setWatchedMovies] = useState(\n\t\tuserPreferences?.watchedMovies || []\n\t);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searching, setSearching] = useState(false);\n\tconst [error, setError] = useState(null);\n\tconst [saveSuccess, setSaveSuccess] = useState(false);\n\n\t// Authentication and user profile states\n\tconst [user, setUser] = useState(getCurrentUser());\n\tconst [userProfile, setUserProfile] = useState(null);\n\tconst [loadingProfile, setLoadingProfile] = useState(false);\n\n\t// Load user profile if authenticated\n\tconsole.log(\"selectedGenres\", selectedGenres);\n\tconsole.log(\"favoriteMovies\", favoriteMovies);\n\tconsole.log(\"watchedMovies\", watchedMovies);\n\tuseEffect(() => {\n\t\tconst loadUserProfile = async () => {\n\t\t\tif (user) {\n\t\t\t\ttry {\n\t\t\t\t\tsetLoadingProfile(true);\n\t\t\t\t\tconst profile = await fetchUserProfile();\n\t\t\t\t\tsetUserProfile(profile);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(\"Error fetching user profile:\", err);\n\t\t\t\t} finally {\n\t\t\t\t\tsetLoadingProfile(false);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tloadUserProfile();\n\t}, [user]);\n\n\tuseEffect(() => {\n\t\tconst loadGenres = async () => {\n\t\t\ttry {\n\t\t\t\tsetLoading(true);\n\t\t\t\tconst genresData = await fetchGenres();\n\t\t\t\tsetGenres(genresData.genres);\n\t\t\t\tsetError(null);\n\t\t\t} catch (err) {\n\t\t\t\tsetError(\"Failed to load genres. Please try again later.\");\n\t\t\t\tconsole.error(\"Error fetching genres:\", err);\n\t\t\t} finally {\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t};\n\n\t\tloadGenres();\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// Initialize selected genres from user preferences\n\t\tsetSelectedGenres(userPreferences.favoriteGenres || []);\n\t\tsetFavoriteMovies(userPreferences.favoriteMovies || []);\n\t\tsetWatchedMovies(userPreferences.watchedMovies || []);\n\t}, [userPreferences]);\n\n\tconst handleGenreToggle = (genreId) => {\n\t\tsetSelectedGenres((prev) => {\n\t\t\tif (prev.includes(genreId)) {\n\t\t\t\treturn prev.filter((id) => id !== genreId);\n\t\t\t} else {\n\t\t\t\treturn [...prev, genreId];\n\t\t\t}\n\t\t});\n\t};\n\n\tconst handleSearch = async () => {\n\t\tif (!searchQuery.trim()) return;\n\n\t\ttry {\n\t\t\tsetSearching(true);\n\t\t\tsetError(null);\n\n\t\t\tconst data = await searchMovies(searchQuery);\n\t\t\tsetSearchResults(data.results);\n\t\t} catch (err) {\n\t\t\tsetError(\"Failed to search movies. Please try again later.\");\n\t\t\tconsole.error(\"Error searching movies:\", err);\n\t\t} finally {\n\t\t\tsetSearching(false);\n\t\t}\n\t};\n\n\tconst handleAddFavorite = (movie) => {\n\t\tconst movieExists = favoriteMovies.some((m) => m.id === movie.id);\n\n\t\tif (!movieExists) {\n\t\t\tconst newMovie = {\n\t\t\t\tid: movie.id,\n\t\t\t\ttitle: movie.title,\n\t\t\t\tposter_path: movie.poster_path,\n\t\t\t\tgenre_ids: movie.genre_ids,\n\t\t\t};\n\n\t\t\tsetFavoriteMovies((prev) => [...prev, newMovie]);\n\t\t}\n\t};\n\n\tconst handleRemoveFavorite = (movieId) => {\n\t\tsetFavoriteMovies((prev) => prev.filter((movie) => movie.id !== movieId));\n\t};\n\n\tconst handleRemoveWatched = (movieId) => {\n\t\tsetWatchedMovies((prev) => prev.filter((movie) => movie.id !== movieId));\n\t};\n\n\t// Handle authentication\n\tconst handleAuthSuccess = (authData) => {\n\t\tsetUser(getCurrentUser());\n\t};\n\n\t// Save preferences to database if logged in, or to local state if not\n\tconst handleSavePreferences = async () => {\n\t\tif (user && userProfile) {\n\t\t\ttry {\n\t\t\t\tsetLoading(true);\n\n\t\t\t\t// First, sync selected genres to user profile\n\t\t\t\tfor (const genreId of selectedGenres) {\n\t\t\t\t\tawait addFavoriteGenre(userProfile.id, genreId);\n\t\t\t\t}\n\n\t\t\t\t// Save favorite movies to database\n\t\t\t\tfor (const movie of favoriteMovies) {\n\t\t\t\t\t// First save the movie to the database\n\t\t\t\t\tconst savedMovie = await saveMovieToDatabase(movie.id);\n\t\t\t\t\t// Then add it to user's favorites\n\t\t\t\t\tawait addFavoriteMovie(userProfile.id, savedMovie.id);\n\t\t\t\t}\n\n\t\t\t\t// Save watch history\n\t\t\t\tfor (const movie of watchedMovies) {\n\t\t\t\t\tconst savedMovie = await saveMovieToDatabase(movie.id);\n\t\t\t\t\tawait addWatchedMovie(userProfile.id, savedMovie.id);\n\t\t\t\t}\n\n\t\t\t\tsetSaveSuccess(true);\n\t\t\t} catch (err) {\n\t\t\t\tsetError(\n\t\t\t\t\t\"Failed to save preferences to your profile. Please try again.\"\n\t\t\t\t);\n\t\t\t\tconsole.error(\"Error saving preferences:\", err);\n\t\t\t} finally {\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t} else {\n\t\t\t// Save to local storage via parent component\n\t\t\tupdateUserPreferences({\n\t\t\t\tfavoriteGenres: selectedGenres,\n\t\t\t\tfavoriteMovies: favoriteMovies,\n\t\t\t\twatchedMovies: watchedMovies,\n\t\t\t});\n\n\t\t\tsetSaveSuccess(true);\n\t\t}\n\n\t\t// Reset success message after 3 seconds\n\t\tsetTimeout(() => {\n\t\t\tsetSaveSuccess(false);\n\t\t}, 3000);\n\t};\n\n\tconst handleViewRecommendations = () => {\n\t\tnavigate(\"/recommendations\");\n\t};\n\n\t// Show authentication form if user is not authenticated\n\tif (!user && userPreferences.requireAuth) {\n\t\treturn (\n\t\t\t<div className='auth-container'>\n\t\t\t\t<h2>Sign In to Save Your Preferences</h2>\n\t\t\t\t<p className='auth-description'>\n\t\t\t\t\tSign in or create an account to save your movie preferences and get\n\t\t\t\t\tpersonalized recommendations across devices.\n\t\t\t\t</p>\n\t\t\t\t<Authentication onAuthSuccess={handleAuthSuccess} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (loading || loadingProfile) {\n\t\treturn <LoadingSpinner message='Loading data...' />;\n\t}\n\n\treturn (\n\t\t<div className='preferences-page'>\n\t\t\t<div className='preferences-header'>\n\t\t\t\t<h1>Your Movie Preferences</h1>\n\t\t\t\t<p className='description'>\n\t\t\t\t\tCustomize your movie preferences to get personalized recommendations.\n\t\t\t\t\tSelect your favorite genres and movies to help us understand your\n\t\t\t\t\ttaste.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{error && (\n\t\t\t\t<div className='error-message'>\n\t\t\t\t\t<i className='fas fa-exclamation-circle'></i> {error}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{saveSuccess && (\n\t\t\t\t<div className='success-message'>\n\t\t\t\t\t<i className='fas fa-check-circle'></i> Your preferences have been\n\t\t\t\t\tsaved successfully!\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className='preferences-content'>\n\t\t\t\t<div className='preferences-section'>\n\t\t\t\t\t<h2>Favorite Genres</h2>\n\t\t\t\t\t<p className='section-description'>\n\t\t\t\t\t\tSelect the genres you enjoy watching the most.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className='genres-grid'>\n\t\t\t\t\t\t{genres.map((genre) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={genre.id}\n\t\t\t\t\t\t\t\tclassName={`genre-item ${\n\t\t\t\t\t\t\t\t\tselectedGenres.includes(genre.id) ? \"selected\" : \"\"\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\tonClick={() => handleGenreToggle(genre.id)}>\n\t\t\t\t\t\t\t\t<span className='genre-name'>{genre.name}</span>\n\t\t\t\t\t\t\t\t{selectedGenres.includes(genre.id) && (\n\t\t\t\t\t\t\t\t\t<i className='fas fa-check selected-icon'></i>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='preferences-section'>\n\t\t\t\t\t<h2>Favorite Movies</h2>\n\t\t\t\t\t<p className='section-description'>\n\t\t\t\t\t\tSearch and add movies that you love to get better recommendations.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className='search-container'>\n\t\t\t\t\t\t<div className='search-input-wrapper'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\t\t\tonChange={(e) => setSearchQuery(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder='Search for movies...'\n\t\t\t\t\t\t\t\tclassName='search-input'\n\t\t\t\t\t\t\t\tonKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='search-button'\n\t\t\t\t\t\t\t\tonClick={handleSearch}\n\t\t\t\t\t\t\t\tdisabled={searching}>\n\t\t\t\t\t\t\t\t{searching ? (\n\t\t\t\t\t\t\t\t\t<i className='fas fa-spinner fa-spin'></i>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<i className='fas fa-search'></i>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{searching && (\n\t\t\t\t\t\t<div className='loading-container'>\n\t\t\t\t\t\t\t<LoadingSpinner size='small' message='Searching movies...' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{searchResults.length > 0 && !searching && (\n\t\t\t\t\t\t<div className='search-results'>\n\t\t\t\t\t\t\t<h3>Search Results</h3>\n\t\t\t\t\t\t\t<div className='movie-results-grid'>\n\t\t\t\t\t\t\t\t{searchResults.map((movie) => (\n\t\t\t\t\t\t\t\t\t<div key={movie.id} className='movie-result-card'>\n\t\t\t\t\t\t\t\t\t\t<div className='movie-poster-container'>\n\t\t\t\t\t\t\t\t\t\t\t{movie.poster_path ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={movie.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='movie-poster'\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='no-poster'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-film'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='movie-result-info'>\n\t\t\t\t\t\t\t\t\t\t\t<h4>{movie.title}</h4>\n\t\t\t\t\t\t\t\t\t\t\t<p className='movie-year'>\n\t\t\t\t\t\t\t\t\t\t\t\t{movie.release_date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(movie.release_date).getFullYear()\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"N/A\"}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='add-favorite-btn'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddFavorite(movie)}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={favoriteMovies.some(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(m) => m.id === movie.id\n\t\t\t\t\t\t\t\t\t\t\t\t)}>\n\t\t\t\t\t\t\t\t\t\t\t\t{favoriteMovies.some((m) => m.id === movie.id) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check'></i> Added\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-plus'></i> Add to Favorites\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div className='selected-movies'>\n\t\t\t\t\t\t<h3>Your Favorite Movies</h3>\n\t\t\t\t\t\t{favoriteMovies.length === 0 ? (\n\t\t\t\t\t\t\t<div className='empty-state'>\n\t\t\t\t\t\t\t\t<p>You haven't added any favorite movies yet.</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className='selected-movies-grid'>\n\t\t\t\t\t\t\t\t{favoriteMovies.map((movie) => (\n\t\t\t\t\t\t\t\t\t<div key={movie.id} className='selected-movie-card'>\n\t\t\t\t\t\t\t\t\t\t{movie.poster_path ? (\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\talt={movie.title}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='selected-movie-poster'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<div className='no-poster'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-film'></i>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className='selected-movie-info'>\n\t\t\t\t\t\t\t\t\t\t\t<h4>{movie.title}</h4>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='remove-btn'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveFavorite(movie.id)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-times'></i> Remove\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='preferences-section'>\n\t\t\t\t\t<h2>Watched Movies</h2>\n\t\t\t\t\t<p className='section-description'>\n\t\t\t\t\t\tMovies you've marked as watched.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className='watched-movies'>\n\t\t\t\t\t\t{watchedMovies.length === 0 ? (\n\t\t\t\t\t\t\t<div className='empty-state'>\n\t\t\t\t\t\t\t\t<p>You haven't marked any movies as watched yet.</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className='watched-movies-grid'>\n\t\t\t\t\t\t\t\t{watchedMovies.map((movie) => (\n\t\t\t\t\t\t\t\t\t<div key={movie.id} className='watched-movie-card'>\n\t\t\t\t\t\t\t\t\t\t{movie.poster_path ? (\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\talt={movie.title}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='watched-movie-poster'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<div className='no-poster'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-film'></i>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className='watched-movie-info'>\n\t\t\t\t\t\t\t\t\t\t\t<h4>{movie.title}</h4>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='remove-btn'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveWatched(movie.id)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-times'></i> Remove\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='preferences-actions'>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-primary save-btn'\n\t\t\t\t\t\tonClick={handleSavePreferences}>\n\t\t\t\t\t\tSave Preferences\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-secondary view-recommendations-btn'\n\t\t\t\t\t\tonClick={handleViewRecommendations}>\n\t\t\t\t\t\tView Recommendations\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{!user && (\n\t\t\t\t<div className='auth-prompt'>\n\t\t\t\t\t<div className='auth-prompt-content'>\n\t\t\t\t\t\t<h3>Save Your Preferences</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tCreate an account or sign in to save your preferences and get\n\t\t\t\t\t\t\tpersonalized recommendations across devices.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<button className='sign-in-btn' onClick={() => navigate(\"/login\")}>\n\t\t\t\t\t\t\tSign In / Register\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<style jsx>{`\n\t\t\t\t.auth-container {\n\t\t\t\t\tmax-width: 500px;\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.auth-container h2 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-description {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt {\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.05);\n\t\t\t\t\tborder: 1px solid rgba(1, 180, 228, 0.2);\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tpadding: 1.5rem;\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt-content {\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt h3 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt p {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.sign-in-btn {\n\t\t\t\t\tbackground-color: var(--primary);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tpadding: 0.6rem 1.2rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: background-color 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.sign-in-btn:hover {\n\t\t\t\t\tbackground-color: #021d2f;\n\t\t\t\t}\n\t\t\t\t.preferences-page {\n\t\t\t\t\tmin-height: 100%;\n\t\t\t\t\tpadding: 10px;\n\t\t\t\t}\n\n\t\t\t\t.preferences-header {\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.preferences-header h1 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.description {\n\t\t\t\t\tmax-width: 800px;\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 1.1rem;\n\t\t\t\t}\n\n\t\t\t\t.success-message {\n\t\t\t\t\tbackground-color: rgba(56, 142, 60, 0.1);\n\t\t\t\t\tcolor: var(--success);\n\t\t\t\t\tpadding: 1rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.success-message i {\n\t\t\t\t\tmargin-right: 0.5rem;\n\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-content {\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section {\n\t\t\t\t\tmargin-bottom: 3rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section:last-child {\n\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section h2 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t\tfont-size: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.section-description {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.genres-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.genre-item {\n\t\t\t\t\tpadding: 0.75rem 1rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.genre-item:hover {\n\t\t\t\t\tborder-color: var(--accent);\n\t\t\t\t\ttransform: translateY(-2px);\n\t\t\t\t}\n\n\t\t\t\t.genre-item.selected {\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.1);\n\t\t\t\t\tborder-color: var(--accent);\n\t\t\t\t}\n\n\t\t\t\t.selected-icon {\n\t\t\t\t\tcolor: var(--accent);\n\t\t\t\t}\n\n\t\t\t\t.search-container {\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.search-input-wrapper {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\n\t\t\t\t.search-input {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tpadding: 0.75rem 1rem;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.search-input:focus {\n\t\t\t\t\toutline: none;\n\t\t\t\t}\n\n\t\t\t\t.search-button {\n\t\t\t\t\tbackground-color: var(--primary);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tpadding: 0 1.5rem;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: background-color 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.search-button:hover {\n\t\t\t\t\tbackground-color: #021d2f;\n\t\t\t\t}\n\n\t\t\t\t.loading-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tpadding: 1.5rem 0;\n\t\t\t\t}\n\n\t\t\t\t.search-results {\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.search-results h3,\n\t\t\t\t.selected-movies h3,\n\t\t\t\t.watched-movies h3 {\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t\tcolor: var(--text);\n\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-results-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-card {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttransition: transform 0.3s, box-shadow 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-card:hover {\n\t\t\t\t\ttransform: translateY(-3px);\n\t\t\t\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.movie-poster-container {\n\t\t\t\t\twidth: 80px;\n\t\t\t\t\theight: 120px;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\n\t\t\t\t.movie-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t}\n\n\t\t\t\t.no-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tbackground-color: #f0f0f0;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-info {\n\t\t\t\t\tpadding: 0.75rem;\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-info h4 {\n\t\t\t\t\tmargin-bottom: 0.25rem;\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-year {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tmargin-bottom: 0.75rem;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn {\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\tborder: 1px solid var(--accent);\n\t\t\t\t\tcolor: var(--accent);\n\t\t\t\t\tpadding: 0.4rem 0.75rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\tmargin-top: auto;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn:hover:not(:disabled) {\n\t\t\t\t\tbackground-color: var(--accent);\n\t\t\t\t\tcolor: white;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn:disabled {\n\t\t\t\t\topacity: 0.7;\n\t\t\t\t\tcursor: default;\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.selected-movies-grid,\n\t\t\t\t.watched-movies-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-card,\n\t\t\t\t.watched-movie-card {\n\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\t\t\t\t\ttransition: transform 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-card:hover,\n\t\t\t\t.watched-movie-card:hover {\n\t\t\t\t\ttransform: translateY(-5px);\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-poster,\n\t\t\t\t.watched-movie-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 225px;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-info,\n\t\t\t\t.watched-movie-info {\n\t\t\t\t\tpadding: 0.75rem;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-info h4,\n\t\t\t\t.watched-movie-info h4 {\n\t\t\t\t\tfont-size: 0.95rem;\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t\tcolor: var(--text);\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t}\n\n\t\t\t\t.remove-btn {\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\tborder: 1px solid #f44336;\n\t\t\t\t\tcolor: #f44336;\n\t\t\t\t\tpadding: 0.3rem 0.6rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tfont-size: 0.8rem;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\n\t\t\t\t.remove-btn:hover {\n\t\t\t\t\tbackground-color: #f44336;\n\t\t\t\t\tcolor: white;\n\t\t\t\t}\n\n\t\t\t\t.empty-state {\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t}\n\n\t\t\t\t.preferences-actions {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t\tmargin-top: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.save-btn,\n\t\t\t\t.view-recommendations-btn {\n\t\t\t\t\tpadding: 0.75rem 2rem;\n\t\t\t\t\tfont-size: 1.1rem;\n\t\t\t\t}\n\n\t\t\t\t@media (max-width: 768px) {\n\t\t\t\t\t.genres-grid {\n\t\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n\t\t\t\t\t}\n\n\t\t\t\t\t.movie-results-grid {\n\t\t\t\t\t\tgrid-template-columns: 1fr;\n\t\t\t\t\t}\n\n\t\t\t\t\t.selected-movies-grid,\n\t\t\t\t\t.watched-movies-grid {\n\t\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n\t\t\t\t\t}\n\n\t\t\t\t\t.preferences-actions {\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t}\n\n\t\t\t\t\t.save-btn,\n\t\t\t\t\t.view-recommendations-btn {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tmax-width: 300px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`}</style>\n\t\t</div>\n\t);\n};\n\nexport default UserPreferences;\n"],"mappings":"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CF,CAAC,EAEL,CAAC/C,IAAI,iBACL3B,OAAA;MAAKqE,SAAS,EAAC,aAAa;MAAAC,QAAA,eAC3BtE,OAAA;QAAKqE,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBACnCtE,OAAA;UAAAsE,QAAA,EAAI;QAAqB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9B1E,OAAA;UAAAsE,QAAA,EAAG;QAGH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ1E,OAAA;UAAQqE,SAAS,EAAC,aAAa;UAACU,OAAO,EAAEA,CAAA,KAAM1E,QAAQ,CAAC,QAAQ,CAAE;UAAAiE,QAAA,EAAC;QAEnE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CACL,eAED1E,OAAA;MAAOiG,GAAG;MAAA3B,QAAA,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAER,CAAC;AAACtE,EAAA,CAn0BIH,eAAe;EAAA,QACHb,WAAW;AAAA;AAAA8G,EAAA,GADvBjG,eAAe;AAq0BrB,eAAeA,eAAe;AAAC,IAAAiG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}