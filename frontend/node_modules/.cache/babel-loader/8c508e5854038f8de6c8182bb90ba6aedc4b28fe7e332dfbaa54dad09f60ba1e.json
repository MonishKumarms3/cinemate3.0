{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dhanush\\\\Downloads\\\\cinemate (5)\\\\cinemate\\\\frontend\\\\src\\\\pages\\\\UserPreferences.js\",\n  _s = $RefreshSig$();\n/** @format */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport Authentication from \"../components/Authentication\";\nimport { appContext } from \"../App\";\nimport { fetchGenres, searchMovies, getCurrentUser, fetchUserProfile, addFavoriteGenre, addFavoriteMovie, addWatchedMovie, saveMovieToDatabase } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserPreferences = ({\n  userPreferences,\n  updateUserPreferences\n}) => {\n  _s();\n  const navigate = useNavigate();\n  //const [genres, setGenres] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  //const [selectedGenres, setSelectedGenres] = useState(\n  //\tuserPreferences?.favoriteGenres || []\n  //);\n  //const [favoriteMovies, setFavoriteMovies] = useState(\n  //\tuserPreferences?.favoriteMovies || []\n  //);\n  //const [watchedMovies, setWatchedMovies] = useState(\n  //\tuserPreferences?.watchedMovies || []\n  //);\n  const [loading, setLoading] = useState(false);\n  const [searching, setSearching] = useState(false);\n  const [error, setError] = useState(null);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n\n  // Authentication and user profile states\n  const [user, setUser] = useState(getCurrentUser());\n  //const [userProfile, setUserProfile] = useState(null);\n  const [loadingProfile, setLoadingProfile] = useState(false);\n  const {\n    genres,\n    setGenres,\n    selectedGenres,\n    setSelectedGenres,\n    favoriteMovies,\n    setFavoriteMovies,\n    watchedMovies,\n    setWatchedMovies,\n    userProfile,\n    setUserProfile,\n    recommendations,\n    setRecommendations,\n    noPreferences,\n    setNoPreferences\n  } = useContext(appContext);\n  setSelectedGenres(userPreferences.favoriteGenres || []);\n  setFavoriteMovies(userPreferences.favoriteMovies || []);\n  setWatchedMovies(userPreferences.watchedMovies || []);\n\n  // Load user profile if authenticated\n  useEffect(() => {\n    const loadUserProfile = async () => {\n      if (user) {\n        try {\n          setLoadingProfile(true);\n          const profile = await fetchUserProfile();\n          setUserProfile(profile);\n        } catch (err) {\n          console.error(\"Error fetching user profile:\", err);\n        } finally {\n          setLoadingProfile(false);\n        }\n      }\n    };\n    loadUserProfile();\n  }, [user]);\n  useEffect(() => {\n    const loadGenres = async () => {\n      try {\n        setLoading(true);\n        const genresData = await fetchGenres();\n        setGenres(genresData.genres);\n        setError(null);\n      } catch (err) {\n        setError(\"Failed to load genres. Please try again later.\");\n        console.error(\"Error fetching genres:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadGenres();\n  }, []);\n  useEffect(() => {\n    // Initialize selected genres from user preferences\n    setSelectedGenres(userPreferences.favoriteGenres || []);\n    setFavoriteMovies(userPreferences.favoriteMovies || []);\n    setWatchedMovies(userPreferences.watchedMovies || []);\n  }, [userPreferences]);\n  const handleGenreToggle = genreId => {\n    setSelectedGenres(prev => {\n      if (prev.includes(genreId)) {\n        return prev.filter(id => id !== genreId);\n      } else {\n        return [...prev, genreId];\n      }\n    });\n  };\n  const handleSearch = async () => {\n    if (!searchQuery.trim()) return;\n    try {\n      setSearching(true);\n      setError(null);\n      const data = await searchMovies(searchQuery);\n      setSearchResults(data.results);\n    } catch (err) {\n      setError(\"Failed to search movies. Please try again later.\");\n      console.error(\"Error searching movies:\", err);\n    } finally {\n      setSearching(false);\n    }\n  };\n  const handleAddFavorite = movie => {\n    const movieExists = favoriteMovies.some(m => m.id === movie.id);\n    if (!movieExists) {\n      const newMovie = {\n        id: movie.id,\n        title: movie.title,\n        poster_path: movie.poster_path,\n        genre_ids: movie.genre_ids\n      };\n      setFavoriteMovies(prev => [...prev, newMovie]);\n    }\n  };\n  const handleRemoveFavorite = movieId => {\n    setFavoriteMovies(prev => prev.filter(movie => movie.id !== movieId));\n  };\n  const handleRemoveWatched = movieId => {\n    setWatchedMovies(prev => prev.filter(movie => movie.id !== movieId));\n  };\n\n  // Handle authentication\n  const handleAuthSuccess = authData => {\n    setUser(getCurrentUser());\n  };\n\n  // Save preferences to database if logged in, or to local state if not\n  const handleSavePreferences = async () => {\n    if (user && userProfile) {\n      try {\n        setLoading(true);\n\n        // First, sync selected genres to user profile\n        for (const genreId of selectedGenres) {\n          await addFavoriteGenre(userProfile.id, genreId);\n        }\n\n        // Save favorite movies to database\n        for (const movie of favoriteMovies) {\n          // First save the movie to the database\n          const savedMovie = await saveMovieToDatabase(movie.id);\n          // Then add it to user's favorites\n          await addFavoriteMovie(userProfile.id, savedMovie.id);\n        }\n\n        // Save watch history\n        for (const movie of watchedMovies) {\n          const savedMovie = await saveMovieToDatabase(movie.id);\n          await addWatchedMovie(userProfile.id, savedMovie.id);\n        }\n        setSaveSuccess(true);\n      } catch (err) {\n        setError(\"Failed to save preferences to your profile. Please try again.\");\n        console.error(\"Error saving preferences:\", err);\n      } finally {\n        setLoading(false);\n      }\n    } else {\n      // Save to local storage via parent component\n      updateUserPreferences({\n        favoriteGenres: selectedGenres,\n        favoriteMovies: favoriteMovies,\n        watchedMovies: watchedMovies\n      });\n      setSaveSuccess(true);\n    }\n\n    // Reset success message after 3 seconds\n    setTimeout(() => {\n      setSaveSuccess(false);\n    }, 3000);\n  };\n  const handleViewRecommendations = () => {\n    navigate(\"/recommendations\");\n  };\n\n  // Show authentication form if user is not authenticated\n  if (!user && userPreferences.requireAuth) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign In to Save Your Preferences\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-description\",\n        children: \"Sign in or create an account to save your movie preferences and get personalized recommendations across devices.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Authentication, {\n        onAuthSuccess: handleAuthSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 4\n    }, this);\n  }\n  if (loading || loadingProfile) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      message: \"Loading data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 10\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"preferences-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preferences-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Your Movie Preferences\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"description\",\n        children: \"Customize your movie preferences to get personalized recommendations. Select your favorite genres and movies to help us understand your taste.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 4\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-exclamation-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 6\n      }, this), \" \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 5\n    }, this), saveSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-check-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 6\n      }, this), \" Your preferences have been saved successfully!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preferences-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Favorite Genres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-description\",\n          children: \"Select the genres you enjoy watching the most.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"genres-grid\",\n          children: genres.map(genre => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `genre-item ${selectedGenres.includes(genre.id) ? \"selected\" : \"\"}`,\n            onClick: () => handleGenreToggle(genre.id),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"genre-name\",\n              children: genre.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 9\n            }, this), selectedGenres.includes(genre.id) && /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-check selected-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 10\n            }, this)]\n          }, genre.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 8\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Favorite Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-description\",\n          children: \"Search and add movies that you love to get better recommendations.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              placeholder: \"Search for movies...\",\n              className: \"search-input\",\n              onKeyDown: e => e.key === \"Enter\" && handleSearch()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"search-button\",\n              onClick: handleSearch,\n              disabled: searching,\n              children: searching ? /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-spinner fa-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 10\n              }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 6\n        }, this), searching && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-container\",\n          children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n            size: \"small\",\n            message: \"Searching movies...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 7\n        }, this), searchResults.length > 0 && !searching && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Search Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"movie-results-grid\",\n            children: searchResults.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"movie-result-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"movie-poster-container\",\n                children: movie.poster_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `https://image.tmdb.org/t/p/w200${movie.poster_path}`,\n                  alt: movie.title,\n                  className: \"movie-poster\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 13\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no-poster\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-film\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 14\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"movie-result-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: movie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"movie-year\",\n                  children: movie.release_date ? new Date(movie.release_date).getFullYear() : \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"add-favorite-btn\",\n                  onClick: () => handleAddFavorite(movie),\n                  disabled: favoriteMovies.some(m => m.id === movie.id),\n                  children: favoriteMovies.some(m => m.id === movie.id) ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-check\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 352,\n                      columnNumber: 15\n                    }, this), \" Added\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 14\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-plus\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 15\n                    }, this), \" Add to Favorites\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 14\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 11\n              }, this)]\n            }, movie.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-movies\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Your Favorite Movies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 7\n          }, this), favoriteMovies.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"You haven't added any favorite movies yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-movies-grid\",\n            children: favoriteMovies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selected-movie-card\",\n              children: [movie.poster_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `https://image.tmdb.org/t/p/w200${movie.poster_path}`,\n                alt: movie.title,\n                className: \"selected-movie-poster\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 12\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-poster\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-film\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"selected-movie-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: movie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-btn\",\n                  onClick: () => handleRemoveFavorite(movie.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-times\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 13\n                  }, this), \" Remove\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 11\n              }, this)]\n            }, movie.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Watched Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-description\",\n          children: \"Movies you've marked as watched.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"watched-movies\",\n          children: watchedMovies.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"You haven't marked any movies as watched yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"watched-movies-grid\",\n            children: watchedMovies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"watched-movie-card\",\n              children: [movie.poster_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `https://image.tmdb.org/t/p/w200${movie.poster_path}`,\n                alt: movie.title,\n                className: \"watched-movie-poster\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 12\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-poster\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-film\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"watched-movie-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: movie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-btn\",\n                  onClick: () => handleRemoveWatched(movie.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-times\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 13\n                  }, this), \" Remove\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 11\n              }, this)]\n            }, movie.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary save-btn\",\n          onClick: handleSavePreferences,\n          children: \"Save Preferences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary view-recommendations-btn\",\n          onClick: handleViewRecommendations,\n          children: \"View Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 4\n    }, this), !user && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-prompt\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-prompt-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Save Your Preferences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Create an account or sign in to save your preferences and get personalized recommendations across devices.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sign-in-btn\",\n          onClick: () => navigate(\"/login\"),\n          children: \"Sign In / Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n\t\t\t\t.auth-container {\n\t\t\t\t\tmax-width: 500px;\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.auth-container h2 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-description {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt {\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.05);\n\t\t\t\t\tborder: 1px solid rgba(1, 180, 228, 0.2);\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tpadding: 1.5rem;\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt-content {\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt h3 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt p {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.sign-in-btn {\n\t\t\t\t\tbackground-color: var(--primary);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tpadding: 0.6rem 1.2rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: background-color 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.sign-in-btn:hover {\n\t\t\t\t\tbackground-color: #021d2f;\n\t\t\t\t}\n\t\t\t\t.preferences-page {\n\t\t\t\t\tmin-height: 100%;\n\t\t\t\t\tpadding: 10px;\n\t\t\t\t}\n\n\t\t\t\t.preferences-header {\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.preferences-header h1 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.description {\n\t\t\t\t\tmax-width: 800px;\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 1.1rem;\n\t\t\t\t}\n\n\t\t\t\t.success-message {\n\t\t\t\t\tbackground-color: rgba(56, 142, 60, 0.1);\n\t\t\t\t\tcolor: var(--success);\n\t\t\t\t\tpadding: 1rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.success-message i {\n\t\t\t\t\tmargin-right: 0.5rem;\n\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-content {\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section {\n\t\t\t\t\tmargin-bottom: 3rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section:last-child {\n\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section h2 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t\tfont-size: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.section-description {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.genres-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.genre-item {\n\t\t\t\t\tpadding: 0.75rem 1rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.genre-item:hover {\n\t\t\t\t\tborder-color: var(--accent);\n\t\t\t\t\ttransform: translateY(-2px);\n\t\t\t\t}\n\n\t\t\t\t.genre-item.selected {\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.1);\n\t\t\t\t\tborder-color: var(--accent);\n\t\t\t\t}\n\n\t\t\t\t.selected-icon {\n\t\t\t\t\tcolor: var(--accent);\n\t\t\t\t}\n\n\t\t\t\t.search-container {\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.search-input-wrapper {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\n\t\t\t\t.search-input {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tpadding: 0.75rem 1rem;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.search-input:focus {\n\t\t\t\t\toutline: none;\n\t\t\t\t}\n\n\t\t\t\t.search-button {\n\t\t\t\t\tbackground-color: var(--primary);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tpadding: 0 1.5rem;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: background-color 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.search-button:hover {\n\t\t\t\t\tbackground-color: #021d2f;\n\t\t\t\t}\n\n\t\t\t\t.loading-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tpadding: 1.5rem 0;\n\t\t\t\t}\n\n\t\t\t\t.search-results {\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.search-results h3,\n\t\t\t\t.selected-movies h3,\n\t\t\t\t.watched-movies h3 {\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t\tcolor: var(--text);\n\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-results-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-card {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttransition: transform 0.3s, box-shadow 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-card:hover {\n\t\t\t\t\ttransform: translateY(-3px);\n\t\t\t\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.movie-poster-container {\n\t\t\t\t\twidth: 80px;\n\t\t\t\t\theight: 120px;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\n\t\t\t\t.movie-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t}\n\n\t\t\t\t.no-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tbackground-color: #f0f0f0;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-info {\n\t\t\t\t\tpadding: 0.75rem;\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-info h4 {\n\t\t\t\t\tmargin-bottom: 0.25rem;\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-year {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tmargin-bottom: 0.75rem;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn {\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\tborder: 1px solid var(--accent);\n\t\t\t\t\tcolor: var(--accent);\n\t\t\t\t\tpadding: 0.4rem 0.75rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\tmargin-top: auto;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn:hover:not(:disabled) {\n\t\t\t\t\tbackground-color: var(--accent);\n\t\t\t\t\tcolor: white;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn:disabled {\n\t\t\t\t\topacity: 0.7;\n\t\t\t\t\tcursor: default;\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.selected-movies-grid,\n\t\t\t\t.watched-movies-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-card,\n\t\t\t\t.watched-movie-card {\n\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\t\t\t\t\ttransition: transform 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-card:hover,\n\t\t\t\t.watched-movie-card:hover {\n\t\t\t\t\ttransform: translateY(-5px);\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-poster,\n\t\t\t\t.watched-movie-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 225px;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-info,\n\t\t\t\t.watched-movie-info {\n\t\t\t\t\tpadding: 0.75rem;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-info h4,\n\t\t\t\t.watched-movie-info h4 {\n\t\t\t\t\tfont-size: 0.95rem;\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t\tcolor: var(--text);\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t}\n\n\t\t\t\t.remove-btn {\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\tborder: 1px solid #f44336;\n\t\t\t\t\tcolor: #f44336;\n\t\t\t\t\tpadding: 0.3rem 0.6rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tfont-size: 0.8rem;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\n\t\t\t\t.remove-btn:hover {\n\t\t\t\t\tbackground-color: #f44336;\n\t\t\t\t\tcolor: white;\n\t\t\t\t}\n\n\t\t\t\t.empty-state {\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t}\n\n\t\t\t\t.preferences-actions {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t\tmargin-top: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.save-btn,\n\t\t\t\t.view-recommendations-btn {\n\t\t\t\t\tpadding: 0.75rem 2rem;\n\t\t\t\t\tfont-size: 1.1rem;\n\t\t\t\t}\n\n\t\t\t\t@media (max-width: 768px) {\n\t\t\t\t\t.genres-grid {\n\t\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n\t\t\t\t\t}\n\n\t\t\t\t\t.movie-results-grid {\n\t\t\t\t\t\tgrid-template-columns: 1fr;\n\t\t\t\t\t}\n\n\t\t\t\t\t.selected-movies-grid,\n\t\t\t\t\t.watched-movies-grid {\n\t\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n\t\t\t\t\t}\n\n\t\t\t\t\t.preferences-actions {\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t}\n\n\t\t\t\t\t.save-btn,\n\t\t\t\t\t.view-recommendations-btn {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tmax-width: 300px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 3\n  }, this);\n};\n_s(UserPreferences, \"TZFYc+Nn8wXDYBuLGyrgiTJkujc=\", false, function () {\n  return [useNavigate];\n});\n_c = UserPreferences;\nexport default UserPreferences;\nvar _c;\n$RefreshReg$(_c, \"UserPreferences\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","LoadingSpinner","Authentication","appContext","fetchGenres","searchMovies","getCurrentUser","fetchUserProfile","addFavoriteGenre","addFavoriteMovie","addWatchedMovie","saveMovieToDatabase","jsxDEV","_jsxDEV","UserPreferences","userPreferences","updateUserPreferences","_s","navigate","searchQuery","setSearchQuery","searchResults","setSearchResults","loading","setLoading","searching","setSearching","error","setError","saveSuccess","setSaveSuccess","user","setUser","loadingProfile","setLoadingProfile","genres","setGenres","selectedGenres","setSelectedGenres","favoriteMovies","setFavoriteMovies","watchedMovies","setWatchedMovies","userProfile","setUserProfile","recommendations","setRecommendations","noPreferences","setNoPreferences","favoriteGenres","loadUserProfile","profile","err","console","loadGenres","genresData","handleGenreToggle","genreId","prev","includes","filter","id","handleSearch","trim","data","results","handleAddFavorite","movie","movieExists","some","m","newMovie","title","poster_path","genre_ids","handleRemoveFavorite","movieId","handleRemoveWatched","handleAuthSuccess","authData","handleSavePreferences","savedMovie","setTimeout","handleViewRecommendations","requireAuth","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onAuthSuccess","message","map","genre","onClick","name","type","value","onChange","e","target","placeholder","onKeyDown","key","disabled","size","length","src","alt","release_date","Date","getFullYear","jsx","_c","$RefreshReg$"],"sources":["C:/Users/Dhanush/Downloads/cinemate (5)/cinemate/frontend/src/pages/UserPreferences.js"],"sourcesContent":["/** @format */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport Authentication from \"../components/Authentication\";\nimport { appContext } from \"../App\";\n\nimport {\n\tfetchGenres,\n\tsearchMovies,\n\tgetCurrentUser,\n\tfetchUserProfile,\n\taddFavoriteGenre,\n\taddFavoriteMovie,\n\taddWatchedMovie,\n\tsaveMovieToDatabase,\n} from \"../services/api\";\n\nconst UserPreferences = ({ userPreferences, updateUserPreferences }) => {\n\tconst navigate = useNavigate();\n\t//const [genres, setGenres] = useState([]);\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\n\tconst [searchResults, setSearchResults] = useState([]);\n\t//const [selectedGenres, setSelectedGenres] = useState(\n\t//\tuserPreferences?.favoriteGenres || []\n\t//);\n\t//const [favoriteMovies, setFavoriteMovies] = useState(\n\t//\tuserPreferences?.favoriteMovies || []\n\t//);\n\t//const [watchedMovies, setWatchedMovies] = useState(\n\t//\tuserPreferences?.watchedMovies || []\n\t//);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searching, setSearching] = useState(false);\n\tconst [error, setError] = useState(null);\n\tconst [saveSuccess, setSaveSuccess] = useState(false);\n\n\t// Authentication and user profile states\n\tconst [user, setUser] = useState(getCurrentUser());\n\t//const [userProfile, setUserProfile] = useState(null);\n\tconst [loadingProfile, setLoadingProfile] = useState(false);\n\tconst {\n\t\tgenres,\n\t\tsetGenres,\n\t\tselectedGenres,\n\t\tsetSelectedGenres,\n\t\tfavoriteMovies,\n\t\tsetFavoriteMovies,\n\t\twatchedMovies,\n\t\tsetWatchedMovies,\n\t\tuserProfile,\n\t\tsetUserProfile,\n\t\trecommendations,\n\t\tsetRecommendations,\n\t\tnoPreferences,\n\t\tsetNoPreferences,\n\t} = useContext(appContext);\n\tsetSelectedGenres(userPreferences.favoriteGenres || []);\n\tsetFavoriteMovies(userPreferences.favoriteMovies || []);\n\tsetWatchedMovies(userPreferences.watchedMovies || []);\n\n\t// Load user profile if authenticated\n\tuseEffect(() => {\n\t\tconst loadUserProfile = async () => {\n\t\t\tif (user) {\n\t\t\t\ttry {\n\t\t\t\t\tsetLoadingProfile(true);\n\t\t\t\t\tconst profile = await fetchUserProfile();\n\t\t\t\t\tsetUserProfile(profile);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(\"Error fetching user profile:\", err);\n\t\t\t\t} finally {\n\t\t\t\t\tsetLoadingProfile(false);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tloadUserProfile();\n\t}, [user]);\n\n\tuseEffect(() => {\n\t\tconst loadGenres = async () => {\n\t\t\ttry {\n\t\t\t\tsetLoading(true);\n\t\t\t\tconst genresData = await fetchGenres();\n\t\t\t\tsetGenres(genresData.genres);\n\t\t\t\tsetError(null);\n\t\t\t} catch (err) {\n\t\t\t\tsetError(\"Failed to load genres. Please try again later.\");\n\t\t\t\tconsole.error(\"Error fetching genres:\", err);\n\t\t\t} finally {\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t};\n\n\t\tloadGenres();\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// Initialize selected genres from user preferences\n\t\tsetSelectedGenres(userPreferences.favoriteGenres || []);\n\t\tsetFavoriteMovies(userPreferences.favoriteMovies || []);\n\t\tsetWatchedMovies(userPreferences.watchedMovies || []);\n\t}, [userPreferences]);\n\n\tconst handleGenreToggle = (genreId) => {\n\t\tsetSelectedGenres((prev) => {\n\t\t\tif (prev.includes(genreId)) {\n\t\t\t\treturn prev.filter((id) => id !== genreId);\n\t\t\t} else {\n\t\t\t\treturn [...prev, genreId];\n\t\t\t}\n\t\t});\n\t};\n\n\tconst handleSearch = async () => {\n\t\tif (!searchQuery.trim()) return;\n\n\t\ttry {\n\t\t\tsetSearching(true);\n\t\t\tsetError(null);\n\n\t\t\tconst data = await searchMovies(searchQuery);\n\t\t\tsetSearchResults(data.results);\n\t\t} catch (err) {\n\t\t\tsetError(\"Failed to search movies. Please try again later.\");\n\t\t\tconsole.error(\"Error searching movies:\", err);\n\t\t} finally {\n\t\t\tsetSearching(false);\n\t\t}\n\t};\n\n\tconst handleAddFavorite = (movie) => {\n\t\tconst movieExists = favoriteMovies.some((m) => m.id === movie.id);\n\n\t\tif (!movieExists) {\n\t\t\tconst newMovie = {\n\t\t\t\tid: movie.id,\n\t\t\t\ttitle: movie.title,\n\t\t\t\tposter_path: movie.poster_path,\n\t\t\t\tgenre_ids: movie.genre_ids,\n\t\t\t};\n\n\t\t\tsetFavoriteMovies((prev) => [...prev, newMovie]);\n\t\t}\n\t};\n\n\tconst handleRemoveFavorite = (movieId) => {\n\t\tsetFavoriteMovies((prev) => prev.filter((movie) => movie.id !== movieId));\n\t};\n\n\tconst handleRemoveWatched = (movieId) => {\n\t\tsetWatchedMovies((prev) => prev.filter((movie) => movie.id !== movieId));\n\t};\n\n\t// Handle authentication\n\tconst handleAuthSuccess = (authData) => {\n\t\tsetUser(getCurrentUser());\n\t};\n\n\t// Save preferences to database if logged in, or to local state if not\n\tconst handleSavePreferences = async () => {\n\t\tif (user && userProfile) {\n\t\t\ttry {\n\t\t\t\tsetLoading(true);\n\n\t\t\t\t// First, sync selected genres to user profile\n\t\t\t\tfor (const genreId of selectedGenres) {\n\t\t\t\t\tawait addFavoriteGenre(userProfile.id, genreId);\n\t\t\t\t}\n\n\t\t\t\t// Save favorite movies to database\n\t\t\t\tfor (const movie of favoriteMovies) {\n\t\t\t\t\t// First save the movie to the database\n\t\t\t\t\tconst savedMovie = await saveMovieToDatabase(movie.id);\n\t\t\t\t\t// Then add it to user's favorites\n\t\t\t\t\tawait addFavoriteMovie(userProfile.id, savedMovie.id);\n\t\t\t\t}\n\n\t\t\t\t// Save watch history\n\t\t\t\tfor (const movie of watchedMovies) {\n\t\t\t\t\tconst savedMovie = await saveMovieToDatabase(movie.id);\n\t\t\t\t\tawait addWatchedMovie(userProfile.id, savedMovie.id);\n\t\t\t\t}\n\n\t\t\t\tsetSaveSuccess(true);\n\t\t\t} catch (err) {\n\t\t\t\tsetError(\n\t\t\t\t\t\"Failed to save preferences to your profile. Please try again.\"\n\t\t\t\t);\n\t\t\t\tconsole.error(\"Error saving preferences:\", err);\n\t\t\t} finally {\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t} else {\n\t\t\t// Save to local storage via parent component\n\t\t\tupdateUserPreferences({\n\t\t\t\tfavoriteGenres: selectedGenres,\n\t\t\t\tfavoriteMovies: favoriteMovies,\n\t\t\t\twatchedMovies: watchedMovies,\n\t\t\t});\n\n\t\t\tsetSaveSuccess(true);\n\t\t}\n\n\t\t// Reset success message after 3 seconds\n\t\tsetTimeout(() => {\n\t\t\tsetSaveSuccess(false);\n\t\t}, 3000);\n\t};\n\n\tconst handleViewRecommendations = () => {\n\t\tnavigate(\"/recommendations\");\n\t};\n\n\t// Show authentication form if user is not authenticated\n\tif (!user && userPreferences.requireAuth) {\n\t\treturn (\n\t\t\t<div className='auth-container'>\n\t\t\t\t<h2>Sign In to Save Your Preferences</h2>\n\t\t\t\t<p className='auth-description'>\n\t\t\t\t\tSign in or create an account to save your movie preferences and get\n\t\t\t\t\tpersonalized recommendations across devices.\n\t\t\t\t</p>\n\t\t\t\t<Authentication onAuthSuccess={handleAuthSuccess} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (loading || loadingProfile) {\n\t\treturn <LoadingSpinner message='Loading data...' />;\n\t}\n\n\treturn (\n\t\t<div className='preferences-page'>\n\t\t\t<div className='preferences-header'>\n\t\t\t\t<h1>Your Movie Preferences</h1>\n\t\t\t\t<p className='description'>\n\t\t\t\t\tCustomize your movie preferences to get personalized recommendations.\n\t\t\t\t\tSelect your favorite genres and movies to help us understand your\n\t\t\t\t\ttaste.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{error && (\n\t\t\t\t<div className='error-message'>\n\t\t\t\t\t<i className='fas fa-exclamation-circle'></i> {error}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{saveSuccess && (\n\t\t\t\t<div className='success-message'>\n\t\t\t\t\t<i className='fas fa-check-circle'></i> Your preferences have been\n\t\t\t\t\tsaved successfully!\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className='preferences-content'>\n\t\t\t\t<div className='preferences-section'>\n\t\t\t\t\t<h2>Favorite Genres</h2>\n\t\t\t\t\t<p className='section-description'>\n\t\t\t\t\t\tSelect the genres you enjoy watching the most.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className='genres-grid'>\n\t\t\t\t\t\t{genres.map((genre) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={genre.id}\n\t\t\t\t\t\t\t\tclassName={`genre-item ${\n\t\t\t\t\t\t\t\t\tselectedGenres.includes(genre.id) ? \"selected\" : \"\"\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\tonClick={() => handleGenreToggle(genre.id)}>\n\t\t\t\t\t\t\t\t<span className='genre-name'>{genre.name}</span>\n\t\t\t\t\t\t\t\t{selectedGenres.includes(genre.id) && (\n\t\t\t\t\t\t\t\t\t<i className='fas fa-check selected-icon'></i>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='preferences-section'>\n\t\t\t\t\t<h2>Favorite Movies</h2>\n\t\t\t\t\t<p className='section-description'>\n\t\t\t\t\t\tSearch and add movies that you love to get better recommendations.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className='search-container'>\n\t\t\t\t\t\t<div className='search-input-wrapper'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\t\t\tonChange={(e) => setSearchQuery(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder='Search for movies...'\n\t\t\t\t\t\t\t\tclassName='search-input'\n\t\t\t\t\t\t\t\tonKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='search-button'\n\t\t\t\t\t\t\t\tonClick={handleSearch}\n\t\t\t\t\t\t\t\tdisabled={searching}>\n\t\t\t\t\t\t\t\t{searching ? (\n\t\t\t\t\t\t\t\t\t<i className='fas fa-spinner fa-spin'></i>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<i className='fas fa-search'></i>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{searching && (\n\t\t\t\t\t\t<div className='loading-container'>\n\t\t\t\t\t\t\t<LoadingSpinner size='small' message='Searching movies...' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{searchResults.length > 0 && !searching && (\n\t\t\t\t\t\t<div className='search-results'>\n\t\t\t\t\t\t\t<h3>Search Results</h3>\n\t\t\t\t\t\t\t<div className='movie-results-grid'>\n\t\t\t\t\t\t\t\t{searchResults.map((movie) => (\n\t\t\t\t\t\t\t\t\t<div key={movie.id} className='movie-result-card'>\n\t\t\t\t\t\t\t\t\t\t<div className='movie-poster-container'>\n\t\t\t\t\t\t\t\t\t\t\t{movie.poster_path ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={movie.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='movie-poster'\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='no-poster'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-film'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='movie-result-info'>\n\t\t\t\t\t\t\t\t\t\t\t<h4>{movie.title}</h4>\n\t\t\t\t\t\t\t\t\t\t\t<p className='movie-year'>\n\t\t\t\t\t\t\t\t\t\t\t\t{movie.release_date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(movie.release_date).getFullYear()\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"N/A\"}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='add-favorite-btn'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleAddFavorite(movie)}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={favoriteMovies.some(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(m) => m.id === movie.id\n\t\t\t\t\t\t\t\t\t\t\t\t)}>\n\t\t\t\t\t\t\t\t\t\t\t\t{favoriteMovies.some((m) => m.id === movie.id) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check'></i> Added\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-plus'></i> Add to Favorites\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div className='selected-movies'>\n\t\t\t\t\t\t<h3>Your Favorite Movies</h3>\n\t\t\t\t\t\t{favoriteMovies.length === 0 ? (\n\t\t\t\t\t\t\t<div className='empty-state'>\n\t\t\t\t\t\t\t\t<p>You haven't added any favorite movies yet.</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className='selected-movies-grid'>\n\t\t\t\t\t\t\t\t{favoriteMovies.map((movie) => (\n\t\t\t\t\t\t\t\t\t<div key={movie.id} className='selected-movie-card'>\n\t\t\t\t\t\t\t\t\t\t{movie.poster_path ? (\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\talt={movie.title}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='selected-movie-poster'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<div className='no-poster'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-film'></i>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className='selected-movie-info'>\n\t\t\t\t\t\t\t\t\t\t\t<h4>{movie.title}</h4>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='remove-btn'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveFavorite(movie.id)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-times'></i> Remove\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='preferences-section'>\n\t\t\t\t\t<h2>Watched Movies</h2>\n\t\t\t\t\t<p className='section-description'>\n\t\t\t\t\t\tMovies you've marked as watched.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className='watched-movies'>\n\t\t\t\t\t\t{watchedMovies.length === 0 ? (\n\t\t\t\t\t\t\t<div className='empty-state'>\n\t\t\t\t\t\t\t\t<p>You haven't marked any movies as watched yet.</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className='watched-movies-grid'>\n\t\t\t\t\t\t\t\t{watchedMovies.map((movie) => (\n\t\t\t\t\t\t\t\t\t<div key={movie.id} className='watched-movie-card'>\n\t\t\t\t\t\t\t\t\t\t{movie.poster_path ? (\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\n\t\t\t\t\t\t\t\t\t\t\t\talt={movie.title}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='watched-movie-poster'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<div className='no-poster'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-film'></i>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<div className='watched-movie-info'>\n\t\t\t\t\t\t\t\t\t\t\t<h4>{movie.title}</h4>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='remove-btn'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveWatched(movie.id)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-times'></i> Remove\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='preferences-actions'>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-primary save-btn'\n\t\t\t\t\t\tonClick={handleSavePreferences}>\n\t\t\t\t\t\tSave Preferences\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-secondary view-recommendations-btn'\n\t\t\t\t\t\tonClick={handleViewRecommendations}>\n\t\t\t\t\t\tView Recommendations\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{!user && (\n\t\t\t\t<div className='auth-prompt'>\n\t\t\t\t\t<div className='auth-prompt-content'>\n\t\t\t\t\t\t<h3>Save Your Preferences</h3>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tCreate an account or sign in to save your preferences and get\n\t\t\t\t\t\t\tpersonalized recommendations across devices.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<button className='sign-in-btn' onClick={() => navigate(\"/login\")}>\n\t\t\t\t\t\t\tSign In / Register\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<style jsx>{`\n\t\t\t\t.auth-container {\n\t\t\t\t\tmax-width: 500px;\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.auth-container h2 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-description {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt {\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.05);\n\t\t\t\t\tborder: 1px solid rgba(1, 180, 228, 0.2);\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tpadding: 1.5rem;\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt-content {\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt h3 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t}\n\n\t\t\t\t.auth-prompt p {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.sign-in-btn {\n\t\t\t\t\tbackground-color: var(--primary);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tpadding: 0.6rem 1.2rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: background-color 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.sign-in-btn:hover {\n\t\t\t\t\tbackground-color: #021d2f;\n\t\t\t\t}\n\t\t\t\t.preferences-page {\n\t\t\t\t\tmin-height: 100%;\n\t\t\t\t\tpadding: 10px;\n\t\t\t\t}\n\n\t\t\t\t.preferences-header {\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t.preferences-header h1 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.description {\n\t\t\t\t\tmax-width: 800px;\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 1.1rem;\n\t\t\t\t}\n\n\t\t\t\t.success-message {\n\t\t\t\t\tbackground-color: rgba(56, 142, 60, 0.1);\n\t\t\t\t\tcolor: var(--success);\n\t\t\t\t\tpadding: 1rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.success-message i {\n\t\t\t\t\tmargin-right: 0.5rem;\n\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-content {\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section {\n\t\t\t\t\tmargin-bottom: 3rem;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section:last-child {\n\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t}\n\n\t\t\t\t.preferences-section h2 {\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t\tfont-size: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.section-description {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.genres-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.genre-item {\n\t\t\t\t\tpadding: 0.75rem 1rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.genre-item:hover {\n\t\t\t\t\tborder-color: var(--accent);\n\t\t\t\t\ttransform: translateY(-2px);\n\t\t\t\t}\n\n\t\t\t\t.genre-item.selected {\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.1);\n\t\t\t\t\tborder-color: var(--accent);\n\t\t\t\t}\n\n\t\t\t\t.selected-icon {\n\t\t\t\t\tcolor: var(--accent);\n\t\t\t\t}\n\n\t\t\t\t.search-container {\n\t\t\t\t\tmargin-bottom: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.search-input-wrapper {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\n\t\t\t\t.search-input {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tpadding: 0.75rem 1rem;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.search-input:focus {\n\t\t\t\t\toutline: none;\n\t\t\t\t}\n\n\t\t\t\t.search-button {\n\t\t\t\t\tbackground-color: var(--primary);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tpadding: 0 1.5rem;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: background-color 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.search-button:hover {\n\t\t\t\t\tbackground-color: #021d2f;\n\t\t\t\t}\n\n\t\t\t\t.loading-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tpadding: 1.5rem 0;\n\t\t\t\t}\n\n\t\t\t\t.search-results {\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.search-results h3,\n\t\t\t\t.selected-movies h3,\n\t\t\t\t.watched-movies h3 {\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t\tcolor: var(--text);\n\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-results-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-card {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tborder: 1px solid var(--border);\n\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttransition: transform 0.3s, box-shadow 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-card:hover {\n\t\t\t\t\ttransform: translateY(-3px);\n\t\t\t\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.movie-poster-container {\n\t\t\t\t\twidth: 80px;\n\t\t\t\t\theight: 120px;\n\t\t\t\t\tflex-shrink: 0;\n\t\t\t\t}\n\n\t\t\t\t.movie-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t}\n\n\t\t\t\t.no-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tbackground-color: #f0f0f0;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 1.5rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-info {\n\t\t\t\t\tpadding: 0.75rem;\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t}\n\n\t\t\t\t.movie-result-info h4 {\n\t\t\t\t\tmargin-bottom: 0.25rem;\n\t\t\t\t\tcolor: var(--primary);\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.movie-year {\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tmargin-bottom: 0.75rem;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn {\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\tborder: 1px solid var(--accent);\n\t\t\t\t\tcolor: var(--accent);\n\t\t\t\t\tpadding: 0.4rem 0.75rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\tmargin-top: auto;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn:hover:not(:disabled) {\n\t\t\t\t\tbackground-color: var(--accent);\n\t\t\t\t\tcolor: white;\n\t\t\t\t}\n\n\t\t\t\t.add-favorite-btn:disabled {\n\t\t\t\t\topacity: 0.7;\n\t\t\t\t\tcursor: default;\n\t\t\t\t\tbackground-color: rgba(1, 180, 228, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.selected-movies-grid,\n\t\t\t\t.watched-movies-grid {\n\t\t\t\t\tdisplay: grid;\n\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-card,\n\t\t\t\t.watched-movie-card {\n\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\t\t\t\t\ttransition: transform 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-card:hover,\n\t\t\t\t.watched-movie-card:hover {\n\t\t\t\t\ttransform: translateY(-5px);\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-poster,\n\t\t\t\t.watched-movie-poster {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 225px;\n\t\t\t\t\tobject-fit: cover;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-info,\n\t\t\t\t.watched-movie-info {\n\t\t\t\t\tpadding: 0.75rem;\n\t\t\t\t}\n\n\t\t\t\t.selected-movie-info h4,\n\t\t\t\t.watched-movie-info h4 {\n\t\t\t\t\tfont-size: 0.95rem;\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t\tcolor: var(--text);\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t}\n\n\t\t\t\t.remove-btn {\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\tborder: 1px solid #f44336;\n\t\t\t\t\tcolor: #f44336;\n\t\t\t\t\tpadding: 0.3rem 0.6rem;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tfont-size: 0.8rem;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\n\t\t\t\t.remove-btn:hover {\n\t\t\t\t\tbackground-color: #f44336;\n\t\t\t\t\tcolor: white;\n\t\t\t\t}\n\n\t\t\t\t.empty-state {\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tcolor: var(--text-light);\n\t\t\t\t}\n\n\t\t\t\t.preferences-actions {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tgap: 1rem;\n\t\t\t\t\tmargin-top: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.save-btn,\n\t\t\t\t.view-recommendations-btn {\n\t\t\t\t\tpadding: 0.75rem 2rem;\n\t\t\t\t\tfont-size: 1.1rem;\n\t\t\t\t}\n\n\t\t\t\t@media (max-width: 768px) {\n\t\t\t\t\t.genres-grid {\n\t\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n\t\t\t\t\t}\n\n\t\t\t\t\t.movie-results-grid {\n\t\t\t\t\t\tgrid-template-columns: 1fr;\n\t\t\t\t\t}\n\n\t\t\t\t\t.selected-movies-grid,\n\t\t\t\t\t.watched-movies-grid {\n\t\t\t\t\t\tgrid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n\t\t\t\t\t}\n\n\t\t\t\t\t.preferences-actions {\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t}\n\n\t\t\t\t\t.save-btn,\n\t\t\t\t\t.view-recommendations-btn {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tmax-width: 300px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`}</style>\n\t\t</div>\n\t);\n};\n\nexport default UserPreferences;\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,cAAc,MAAM,8BAA8B;AACzD,OAAOC,cAAc,MAAM,8BAA8B;AACzD,SAASC,UAAU,QAAQ,QAAQ;AAEnC,SACCC,WAAW,EACXC,YAAY,EACZC,cAAc,EACdC,gBAAgB,EAChBC,gBAAgB,EAChBC,gBAAgB,EAChBC,eAAe,EACfC,mBAAmB,QACb,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,MAAMC,eAAe,GAAGA,CAAC;EAAEC,eAAe;EAAEC;AAAsB,CAAC,KAAK;EAAAC,EAAA;EACvE,MAAMC,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAC9B;EACA,MAAM,CAACmB,WAAW,EAAEC,cAAc,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACwB,aAAa,EAAEC,gBAAgB,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EACtD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC4B,SAAS,EAAEC,YAAY,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC8B,KAAK,EAAEC,QAAQ,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACgC,WAAW,EAAEC,cAAc,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;;EAErD;EACA,MAAM,CAACkC,IAAI,EAAEC,OAAO,CAAC,GAAGnC,QAAQ,CAACS,cAAc,CAAC,CAAC,CAAC;EAClD;EACA,MAAM,CAAC2B,cAAc,EAAEC,iBAAiB,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM;IACLsC,MAAM;IACNC,SAAS;IACTC,cAAc;IACdC,iBAAiB;IACjBC,cAAc;IACdC,iBAAiB;IACjBC,aAAa;IACbC,gBAAgB;IAChBC,WAAW;IACXC,cAAc;IACdC,eAAe;IACfC,kBAAkB;IAClBC,aAAa;IACbC;EACD,CAAC,GAAGjD,UAAU,CAACI,UAAU,CAAC;EAC1BmC,iBAAiB,CAACvB,eAAe,CAACkC,cAAc,IAAI,EAAE,CAAC;EACvDT,iBAAiB,CAACzB,eAAe,CAACwB,cAAc,IAAI,EAAE,CAAC;EACvDG,gBAAgB,CAAC3B,eAAe,CAAC0B,aAAa,IAAI,EAAE,CAAC;;EAErD;EACA3C,SAAS,CAAC,MAAM;IACf,MAAMoD,eAAe,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAInB,IAAI,EAAE;QACT,IAAI;UACHG,iBAAiB,CAAC,IAAI,CAAC;UACvB,MAAMiB,OAAO,GAAG,MAAM5C,gBAAgB,CAAC,CAAC;UACxCqC,cAAc,CAACO,OAAO,CAAC;QACxB,CAAC,CAAC,OAAOC,GAAG,EAAE;UACbC,OAAO,CAAC1B,KAAK,CAAC,8BAA8B,EAAEyB,GAAG,CAAC;QACnD,CAAC,SAAS;UACTlB,iBAAiB,CAAC,KAAK,CAAC;QACzB;MACD;IACD,CAAC;IAEDgB,eAAe,CAAC,CAAC;EAClB,CAAC,EAAE,CAACnB,IAAI,CAAC,CAAC;EAEVjC,SAAS,CAAC,MAAM;IACf,MAAMwD,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACH9B,UAAU,CAAC,IAAI,CAAC;QAChB,MAAM+B,UAAU,GAAG,MAAMnD,WAAW,CAAC,CAAC;QACtCgC,SAAS,CAACmB,UAAU,CAACpB,MAAM,CAAC;QAC5BP,QAAQ,CAAC,IAAI,CAAC;MACf,CAAC,CAAC,OAAOwB,GAAG,EAAE;QACbxB,QAAQ,CAAC,gDAAgD,CAAC;QAC1DyB,OAAO,CAAC1B,KAAK,CAAC,wBAAwB,EAAEyB,GAAG,CAAC;MAC7C,CAAC,SAAS;QACT5B,UAAU,CAAC,KAAK,CAAC;MAClB;IACD,CAAC;IAED8B,UAAU,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAENxD,SAAS,CAAC,MAAM;IACf;IACAwC,iBAAiB,CAACvB,eAAe,CAACkC,cAAc,IAAI,EAAE,CAAC;IACvDT,iBAAiB,CAACzB,eAAe,CAACwB,cAAc,IAAI,EAAE,CAAC;IACvDG,gBAAgB,CAAC3B,eAAe,CAAC0B,aAAa,IAAI,EAAE,CAAC;EACtD,CAAC,EAAE,CAAC1B,eAAe,CAAC,CAAC;EAErB,MAAMyC,iBAAiB,GAAIC,OAAO,IAAK;IACtCnB,iBAAiB,CAAEoB,IAAI,IAAK;MAC3B,IAAIA,IAAI,CAACC,QAAQ,CAACF,OAAO,CAAC,EAAE;QAC3B,OAAOC,IAAI,CAACE,MAAM,CAAEC,EAAE,IAAKA,EAAE,KAAKJ,OAAO,CAAC;MAC3C,CAAC,MAAM;QACN,OAAO,CAAC,GAAGC,IAAI,EAAED,OAAO,CAAC;MAC1B;IACD,CAAC,CAAC;EACH,CAAC;EAED,MAAMK,YAAY,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI,CAAC3C,WAAW,CAAC4C,IAAI,CAAC,CAAC,EAAE;IAEzB,IAAI;MACHrC,YAAY,CAAC,IAAI,CAAC;MAClBE,QAAQ,CAAC,IAAI,CAAC;MAEd,MAAMoC,IAAI,GAAG,MAAM3D,YAAY,CAACc,WAAW,CAAC;MAC5CG,gBAAgB,CAAC0C,IAAI,CAACC,OAAO,CAAC;IAC/B,CAAC,CAAC,OAAOb,GAAG,EAAE;MACbxB,QAAQ,CAAC,kDAAkD,CAAC;MAC5DyB,OAAO,CAAC1B,KAAK,CAAC,yBAAyB,EAAEyB,GAAG,CAAC;IAC9C,CAAC,SAAS;MACT1B,YAAY,CAAC,KAAK,CAAC;IACpB;EACD,CAAC;EAED,MAAMwC,iBAAiB,GAAIC,KAAK,IAAK;IACpC,MAAMC,WAAW,GAAG7B,cAAc,CAAC8B,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACT,EAAE,KAAKM,KAAK,CAACN,EAAE,CAAC;IAEjE,IAAI,CAACO,WAAW,EAAE;MACjB,MAAMG,QAAQ,GAAG;QAChBV,EAAE,EAAEM,KAAK,CAACN,EAAE;QACZW,KAAK,EAAEL,KAAK,CAACK,KAAK;QAClBC,WAAW,EAAEN,KAAK,CAACM,WAAW;QAC9BC,SAAS,EAAEP,KAAK,CAACO;MAClB,CAAC;MAEDlC,iBAAiB,CAAEkB,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEa,QAAQ,CAAC,CAAC;IACjD;EACD,CAAC;EAED,MAAMI,oBAAoB,GAAIC,OAAO,IAAK;IACzCpC,iBAAiB,CAAEkB,IAAI,IAAKA,IAAI,CAACE,MAAM,CAAEO,KAAK,IAAKA,KAAK,CAACN,EAAE,KAAKe,OAAO,CAAC,CAAC;EAC1E,CAAC;EAED,MAAMC,mBAAmB,GAAID,OAAO,IAAK;IACxClC,gBAAgB,CAAEgB,IAAI,IAAKA,IAAI,CAACE,MAAM,CAAEO,KAAK,IAAKA,KAAK,CAACN,EAAE,KAAKe,OAAO,CAAC,CAAC;EACzE,CAAC;;EAED;EACA,MAAME,iBAAiB,GAAIC,QAAQ,IAAK;IACvC/C,OAAO,CAAC1B,cAAc,CAAC,CAAC,CAAC;EAC1B,CAAC;;EAED;EACA,MAAM0E,qBAAqB,GAAG,MAAAA,CAAA,KAAY;IACzC,IAAIjD,IAAI,IAAIY,WAAW,EAAE;MACxB,IAAI;QACHnB,UAAU,CAAC,IAAI,CAAC;;QAEhB;QACA,KAAK,MAAMiC,OAAO,IAAIpB,cAAc,EAAE;UACrC,MAAM7B,gBAAgB,CAACmC,WAAW,CAACkB,EAAE,EAAEJ,OAAO,CAAC;QAChD;;QAEA;QACA,KAAK,MAAMU,KAAK,IAAI5B,cAAc,EAAE;UACnC;UACA,MAAM0C,UAAU,GAAG,MAAMtE,mBAAmB,CAACwD,KAAK,CAACN,EAAE,CAAC;UACtD;UACA,MAAMpD,gBAAgB,CAACkC,WAAW,CAACkB,EAAE,EAAEoB,UAAU,CAACpB,EAAE,CAAC;QACtD;;QAEA;QACA,KAAK,MAAMM,KAAK,IAAI1B,aAAa,EAAE;UAClC,MAAMwC,UAAU,GAAG,MAAMtE,mBAAmB,CAACwD,KAAK,CAACN,EAAE,CAAC;UACtD,MAAMnD,eAAe,CAACiC,WAAW,CAACkB,EAAE,EAAEoB,UAAU,CAACpB,EAAE,CAAC;QACrD;QAEA/B,cAAc,CAAC,IAAI,CAAC;MACrB,CAAC,CAAC,OAAOsB,GAAG,EAAE;QACbxB,QAAQ,CACP,+DACD,CAAC;QACDyB,OAAO,CAAC1B,KAAK,CAAC,2BAA2B,EAAEyB,GAAG,CAAC;MAChD,CAAC,SAAS;QACT5B,UAAU,CAAC,KAAK,CAAC;MAClB;IACD,CAAC,MAAM;MACN;MACAR,qBAAqB,CAAC;QACrBiC,cAAc,EAAEZ,cAAc;QAC9BE,cAAc,EAAEA,cAAc;QAC9BE,aAAa,EAAEA;MAChB,CAAC,CAAC;MAEFX,cAAc,CAAC,IAAI,CAAC;IACrB;;IAEA;IACAoD,UAAU,CAAC,MAAM;MAChBpD,cAAc,CAAC,KAAK,CAAC;IACtB,CAAC,EAAE,IAAI,CAAC;EACT,CAAC;EAED,MAAMqD,yBAAyB,GAAGA,CAAA,KAAM;IACvCjE,QAAQ,CAAC,kBAAkB,CAAC;EAC7B,CAAC;;EAED;EACA,IAAI,CAACa,IAAI,IAAIhB,eAAe,CAACqE,WAAW,EAAE;IACzC,oBACCvE,OAAA;MAAKwE,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC9BzE,OAAA;QAAAyE,QAAA,EAAI;MAAgC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzC7E,OAAA;QAAGwE,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAC;MAGhC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACJ7E,OAAA,CAACX,cAAc;QAACyF,aAAa,EAAEb;MAAkB;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChD,CAAC;EAER;EAEA,IAAInE,OAAO,IAAIU,cAAc,EAAE;IAC9B,oBAAOpB,OAAA,CAACZ,cAAc;MAAC2F,OAAO,EAAC;IAAiB;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpD;EAEA,oBACC7E,OAAA;IAAKwE,SAAS,EAAC,kBAAkB;IAAAC,QAAA,gBAChCzE,OAAA;MAAKwE,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBAClCzE,OAAA;QAAAyE,QAAA,EAAI;MAAsB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC/B7E,OAAA;QAAGwE,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAI3B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,EAEL/D,KAAK,iBACLd,OAAA;MAAKwE,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC7BzE,OAAA;QAAGwE,SAAS,EAAC;MAA2B;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,KAAC,EAAC/D,KAAK;IAAA;MAAA4D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChD,CACL,EAEA7D,WAAW,iBACXhB,OAAA;MAAKwE,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC/BzE,OAAA;QAAGwE,SAAS,EAAC;MAAqB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,mDAExC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACL,eAED7E,OAAA;MAAKwE,SAAS,EAAC,qBAAqB;MAAAC,QAAA,gBACnCzE,OAAA;QAAKwE,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBACnCzE,OAAA;UAAAyE,QAAA,EAAI;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxB7E,OAAA;UAAGwE,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAAC;QAEnC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAEJ7E,OAAA;UAAKwE,SAAS,EAAC,aAAa;UAAAC,QAAA,EAC1BnD,MAAM,CAAC0D,GAAG,CAAEC,KAAK,iBACjBjF,OAAA;YAECwE,SAAS,EAAE,cACVhD,cAAc,CAACsB,QAAQ,CAACmC,KAAK,CAACjC,EAAE,CAAC,GAAG,UAAU,GAAG,EAAE,EACjD;YACHkC,OAAO,EAAEA,CAAA,KAAMvC,iBAAiB,CAACsC,KAAK,CAACjC,EAAE,CAAE;YAAAyB,QAAA,gBAC3CzE,OAAA;cAAMwE,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAEQ,KAAK,CAACE;YAAI;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,EAC/CrD,cAAc,CAACsB,QAAQ,CAACmC,KAAK,CAACjC,EAAE,CAAC,iBACjChD,OAAA;cAAGwE,SAAS,EAAC;YAA4B;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAC7C;UAAA,GARII,KAAK,CAACjC,EAAE;YAAA0B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAST,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAEN7E,OAAA;QAAKwE,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBACnCzE,OAAA;UAAAyE,QAAA,EAAI;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxB7E,OAAA;UAAGwE,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAAC;QAEnC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAEJ7E,OAAA;UAAKwE,SAAS,EAAC,kBAAkB;UAAAC,QAAA,eAChCzE,OAAA;YAAKwE,SAAS,EAAC,sBAAsB;YAAAC,QAAA,gBACpCzE,OAAA;cACCoF,IAAI,EAAC,MAAM;cACXC,KAAK,EAAE/E,WAAY;cACnBgF,QAAQ,EAAGC,CAAC,IAAKhF,cAAc,CAACgF,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;cAChDI,WAAW,EAAC,sBAAsB;cAClCjB,SAAS,EAAC,cAAc;cACxBkB,SAAS,EAAGH,CAAC,IAAKA,CAAC,CAACI,GAAG,KAAK,OAAO,IAAI1C,YAAY,CAAC;YAAE;cAAAyB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtD,CAAC,eACF7E,OAAA;cACCwE,SAAS,EAAC,eAAe;cACzBU,OAAO,EAAEjC,YAAa;cACtB2C,QAAQ,EAAEhF,SAAU;cAAA6D,QAAA,EACnB7D,SAAS,gBACTZ,OAAA;gBAAGwE,SAAS,EAAC;cAAwB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,gBAE1C7E,OAAA;gBAAGwE,SAAS,EAAC;cAAe;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAChC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,EAELjE,SAAS,iBACTZ,OAAA;UAAKwE,SAAS,EAAC,mBAAmB;UAAAC,QAAA,eACjCzE,OAAA,CAACZ,cAAc;YAACyG,IAAI,EAAC,OAAO;YAACd,OAAO,EAAC;UAAqB;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CACL,EAEArE,aAAa,CAACsF,MAAM,GAAG,CAAC,IAAI,CAAClF,SAAS,iBACtCZ,OAAA;UAAKwE,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC9BzE,OAAA;YAAAyE,QAAA,EAAI;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvB7E,OAAA;YAAKwE,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EACjCjE,aAAa,CAACwE,GAAG,CAAE1B,KAAK,iBACxBtD,OAAA;cAAoBwE,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChDzE,OAAA;gBAAKwE,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,EACrCnB,KAAK,CAACM,WAAW,gBACjB5D,OAAA;kBACC+F,GAAG,EAAE,kCAAkCzC,KAAK,CAACM,WAAW,EAAG;kBAC3DoC,GAAG,EAAE1C,KAAK,CAACK,KAAM;kBACjBa,SAAS,EAAC;gBAAc;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxB,CAAC,gBAEF7E,OAAA;kBAAKwE,SAAS,EAAC,WAAW;kBAAAC,QAAA,eACzBzE,OAAA;oBAAGwE,SAAS,EAAC;kBAAa;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC3B;cACL;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACG,CAAC,eACN7E,OAAA;gBAAKwE,SAAS,EAAC,mBAAmB;gBAAAC,QAAA,gBACjCzE,OAAA;kBAAAyE,QAAA,EAAKnB,KAAK,CAACK;gBAAK;kBAAAe,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACtB7E,OAAA;kBAAGwE,SAAS,EAAC,YAAY;kBAAAC,QAAA,EACvBnB,KAAK,CAAC2C,YAAY,GAChB,IAAIC,IAAI,CAAC5C,KAAK,CAAC2C,YAAY,CAAC,CAACE,WAAW,CAAC,CAAC,GAC1C;gBAAK;kBAAAzB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC,eACJ7E,OAAA;kBACCwE,SAAS,EAAC,kBAAkB;kBAC5BU,OAAO,EAAEA,CAAA,KAAM7B,iBAAiB,CAACC,KAAK,CAAE;kBACxCsC,QAAQ,EAAElE,cAAc,CAAC8B,IAAI,CAC3BC,CAAC,IAAKA,CAAC,CAACT,EAAE,KAAKM,KAAK,CAACN,EACvB,CAAE;kBAAAyB,QAAA,EACD/C,cAAc,CAAC8B,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACT,EAAE,KAAKM,KAAK,CAACN,EAAE,CAAC,gBAC7ChD,OAAA;oBAAAyE,QAAA,gBACCzE,OAAA;sBAAGwE,SAAS,EAAC;oBAAc;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,UACjC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,gBAEP7E,OAAA;oBAAAyE,QAAA,gBACCzE,OAAA;sBAAGwE,SAAS,EAAC;oBAAa;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,qBAChC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM;gBACN;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC;YAAA,GArCGvB,KAAK,CAACN,EAAE;cAAA0B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAsCb,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CACL,eAED7E,OAAA;UAAKwE,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC/BzE,OAAA;YAAAyE,QAAA,EAAI;UAAoB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAC5BnD,cAAc,CAACoE,MAAM,KAAK,CAAC,gBAC3B9F,OAAA;YAAKwE,SAAS,EAAC,aAAa;YAAAC,QAAA,eAC3BzE,OAAA;cAAAyE,QAAA,EAAG;YAA0C;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C,CAAC,gBAEN7E,OAAA;YAAKwE,SAAS,EAAC,sBAAsB;YAAAC,QAAA,EACnC/C,cAAc,CAACsD,GAAG,CAAE1B,KAAK,iBACzBtD,OAAA;cAAoBwE,SAAS,EAAC,qBAAqB;cAAAC,QAAA,GACjDnB,KAAK,CAACM,WAAW,gBACjB5D,OAAA;gBACC+F,GAAG,EAAE,kCAAkCzC,KAAK,CAACM,WAAW,EAAG;gBAC3DoC,GAAG,EAAE1C,KAAK,CAACK,KAAM;gBACjBa,SAAS,EAAC;cAAuB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjC,CAAC,gBAEF7E,OAAA;gBAAKwE,SAAS,EAAC,WAAW;gBAAAC,QAAA,eACzBzE,OAAA;kBAAGwE,SAAS,EAAC;gBAAa;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CACL,eACD7E,OAAA;gBAAKwE,SAAS,EAAC,qBAAqB;gBAAAC,QAAA,gBACnCzE,OAAA;kBAAAyE,QAAA,EAAKnB,KAAK,CAACK;gBAAK;kBAAAe,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACtB7E,OAAA;kBACCwE,SAAS,EAAC,YAAY;kBACtBU,OAAO,EAAEA,CAAA,KAAMpB,oBAAoB,CAACR,KAAK,CAACN,EAAE,CAAE;kBAAAyB,QAAA,gBAC9CzE,OAAA;oBAAGwE,SAAS,EAAC;kBAAc;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,WACjC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC;YAAA,GAnBGvB,KAAK,CAACN,EAAE;cAAA0B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAoBb,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CACL;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAEN7E,OAAA;QAAKwE,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBACnCzE,OAAA;UAAAyE,QAAA,EAAI;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvB7E,OAAA;UAAGwE,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAAC;QAEnC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAEJ7E,OAAA;UAAKwE,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAC7B7C,aAAa,CAACkE,MAAM,KAAK,CAAC,gBAC1B9F,OAAA;YAAKwE,SAAS,EAAC,aAAa;YAAAC,QAAA,eAC3BzE,OAAA;cAAAyE,QAAA,EAAG;YAA6C;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC,gBAEN7E,OAAA;YAAKwE,SAAS,EAAC,qBAAqB;YAAAC,QAAA,EAClC7C,aAAa,CAACoD,GAAG,CAAE1B,KAAK,iBACxBtD,OAAA;cAAoBwE,SAAS,EAAC,oBAAoB;cAAAC,QAAA,GAChDnB,KAAK,CAACM,WAAW,gBACjB5D,OAAA;gBACC+F,GAAG,EAAE,kCAAkCzC,KAAK,CAACM,WAAW,EAAG;gBAC3DoC,GAAG,EAAE1C,KAAK,CAACK,KAAM;gBACjBa,SAAS,EAAC;cAAsB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC,gBAEF7E,OAAA;gBAAKwE,SAAS,EAAC,WAAW;gBAAAC,QAAA,eACzBzE,OAAA;kBAAGwE,SAAS,EAAC;gBAAa;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CACL,eACD7E,OAAA;gBAAKwE,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,gBAClCzE,OAAA;kBAAAyE,QAAA,EAAKnB,KAAK,CAACK;gBAAK;kBAAAe,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACtB7E,OAAA;kBACCwE,SAAS,EAAC,YAAY;kBACtBU,OAAO,EAAEA,CAAA,KAAMlB,mBAAmB,CAACV,KAAK,CAACN,EAAE,CAAE;kBAAAyB,QAAA,gBAC7CzE,OAAA;oBAAGwE,SAAS,EAAC;kBAAc;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,WACjC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC;YAAA,GAnBGvB,KAAK,CAACN,EAAE;cAAA0B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAoBb,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QACL;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAEN7E,OAAA;QAAKwE,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBACnCzE,OAAA;UACCwE,SAAS,EAAC,0BAA0B;UACpCU,OAAO,EAAEf,qBAAsB;UAAAM,QAAA,EAAC;QAEjC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT7E,OAAA;UACCwE,SAAS,EAAC,4CAA4C;UACtDU,OAAO,EAAEZ,yBAA0B;UAAAG,QAAA,EAAC;QAErC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,EAEL,CAAC3D,IAAI,iBACLlB,OAAA;MAAKwE,SAAS,EAAC,aAAa;MAAAC,QAAA,eAC3BzE,OAAA;QAAKwE,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBACnCzE,OAAA;UAAAyE,QAAA,EAAI;QAAqB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9B7E,OAAA;UAAAyE,QAAA,EAAG;QAGH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ7E,OAAA;UAAQwE,SAAS,EAAC,aAAa;UAACU,OAAO,EAAEA,CAAA,KAAM7E,QAAQ,CAAC,QAAQ,CAAE;UAAAoE,QAAA,EAAC;QAEnE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CACL,eAED7E,OAAA;MAAOoG,GAAG;MAAA3B,QAAA,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAER,CAAC;AAACzE,EAAA,CAn1BIH,eAAe;EAAA,QACHd,WAAW;AAAA;AAAAkH,EAAA,GADvBpG,eAAe;AAq1BrB,eAAeA,eAAe;AAAC,IAAAoG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}