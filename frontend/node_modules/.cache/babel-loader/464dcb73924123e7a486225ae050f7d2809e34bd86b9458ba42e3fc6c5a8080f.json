{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dhanush\\\\Downloads\\\\cinemate (5)\\\\cinemate\\\\frontend\\\\src\\\\pages\\\\UserPreferences.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport Authentication from '../components/Authentication';\nimport { fetchGenres, searchMovies, getCurrentUser, fetchUserProfile, addFavoriteGenre, addFavoriteMovie, addWatchedMovie, saveMovieToDatabase } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserPreferences = ({\n  userPreferences,\n  updateUserPreferences\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [genres, setGenres] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedGenres, setSelectedGenres] = useState((userPreferences === null || userPreferences === void 0 ? void 0 : userPreferences.favoriteGenres) || []);\n  const [favoriteMovies, setFavoriteMovies] = useState((userPreferences === null || userPreferences === void 0 ? void 0 : userPreferences.favoriteMovies) || []);\n  const [watchedMovies, setWatchedMovies] = useState((userPreferences === null || userPreferences === void 0 ? void 0 : userPreferences.watchedMovies) || []);\n  const [loading, setLoading] = useState(false);\n  const [searching, setSearching] = useState(false);\n  const [error, setError] = useState(null);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n\n  // Authentication and user profile states\n  const [user, setUser] = useState(getCurrentUser());\n  const [userProfile, setUserProfile] = useState(null);\n  const [loadingProfile, setLoadingProfile] = useState(false);\n\n  // Load user profile if authenticated\n  useEffect(() => {\n    const loadUserProfile = async () => {\n      if (user) {\n        try {\n          setLoadingProfile(true);\n          const profile = await fetchUserProfile();\n          setUserProfile(profile);\n        } catch (err) {\n          console.error('Error fetching user profile:', err);\n        } finally {\n          setLoadingProfile(false);\n        }\n      }\n    };\n    loadUserProfile();\n  }, [user]);\n  useEffect(() => {\n    const loadGenres = async () => {\n      try {\n        setLoading(true);\n        const genresData = await fetchGenres();\n        setGenres(genresData.genres);\n        setError(null);\n      } catch (err) {\n        setError('Failed to load genres. Please try again later.');\n        console.error('Error fetching genres:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadGenres();\n  }, []);\n  useEffect(() => {\n    // Initialize selected genres from user preferences\n    setSelectedGenres(userPreferences.favoriteGenres || []);\n    setFavoriteMovies(userPreferences.favoriteMovies || []);\n    setWatchedMovies(userPreferences.watchedMovies || []);\n  }, [userPreferences]);\n  const handleGenreToggle = genreId => {\n    setSelectedGenres(prev => {\n      if (prev.includes(genreId)) {\n        return prev.filter(id => id !== genreId);\n      } else {\n        return [...prev, genreId];\n      }\n    });\n  };\n  const handleSearch = async () => {\n    if (!searchQuery.trim()) return;\n    try {\n      setSearching(true);\n      setError(null);\n      const data = await searchMovies(searchQuery);\n      setSearchResults(data.results);\n    } catch (err) {\n      setError('Failed to search movies. Please try again later.');\n      console.error('Error searching movies:', err);\n    } finally {\n      setSearching(false);\n    }\n  };\n  const handleAddFavorite = movie => {\n    const movieExists = favoriteMovies.some(m => m.id === movie.id);\n    if (!movieExists) {\n      const newMovie = {\n        id: movie.id,\n        title: movie.title,\n        poster_path: movie.poster_path,\n        genre_ids: movie.genre_ids\n      };\n      setFavoriteMovies(prev => [...prev, newMovie]);\n    }\n  };\n  const handleRemoveFavorite = movieId => {\n    setFavoriteMovies(prev => prev.filter(movie => movie.id !== movieId));\n  };\n  const handleRemoveWatched = movieId => {\n    setWatchedMovies(prev => prev.filter(movie => movie.id !== movieId));\n  };\n\n  // Handle authentication\n  const handleAuthSuccess = authData => {\n    setUser(getCurrentUser());\n  };\n\n  // Save preferences to database if logged in, or to local state if not\n  const handleSavePreferences = async () => {\n    if (user && userProfile) {\n      try {\n        setLoading(true);\n\n        // First, sync selected genres to user profile\n        for (const genreId of selectedGenres) {\n          await addFavoriteGenre(userProfile.id, genreId);\n        }\n\n        // Save favorite movies to database\n        for (const movie of favoriteMovies) {\n          // First save the movie to the database\n          const savedMovie = await saveMovieToDatabase(movie.id);\n          // Then add it to user's favorites\n          await addFavoriteMovie(userProfile.id, savedMovie.id);\n        }\n\n        // Save watch history\n        for (const movie of watchedMovies) {\n          const savedMovie = await saveMovieToDatabase(movie.id);\n          await addWatchedMovie(userProfile.id, savedMovie.id);\n        }\n        setSaveSuccess(true);\n      } catch (err) {\n        setError('Failed to save preferences to your profile. Please try again.');\n        console.error('Error saving preferences:', err);\n      } finally {\n        setLoading(false);\n      }\n    } else {\n      // Save to local storage via parent component\n      updateUserPreferences({\n        favoriteGenres: selectedGenres,\n        favoriteMovies: favoriteMovies,\n        watchedMovies: watchedMovies\n      });\n      setSaveSuccess(true);\n    }\n\n    // Reset success message after 3 seconds\n    setTimeout(() => {\n      setSaveSuccess(false);\n    }, 3000);\n  };\n  const handleViewRecommendations = () => {\n    navigate('/recommendations');\n  };\n\n  // Show authentication form if user is not authenticated\n  if (!user && userPreferences.requireAuth) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign In to Save Your Preferences\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"auth-description\",\n        children: \"Sign in or create an account to save your movie preferences and get personalized recommendations across devices.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Authentication, {\n        onAuthSuccess: handleAuthSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading || loadingProfile) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      message: \"Loading data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"preferences-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preferences-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Your Movie Preferences\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"description\",\n        children: \"Customize your movie preferences to get personalized recommendations. Select your favorite genres and movies to help us understand your taste.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-exclamation-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this), \" \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this), saveSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-check-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), \" Your preferences have been saved successfully!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preferences-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Favorite Genres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-description\",\n          children: \"Select the genres you enjoy watching the most.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"genres-grid\",\n          children: genres.map(genre => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `genre-item ${selectedGenres.includes(genre.id) ? 'selected' : ''}`,\n            onClick: () => handleGenreToggle(genre.id),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"genre-name\",\n              children: genre.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this), selectedGenres.includes(genre.id) && /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-check selected-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 19\n            }, this)]\n          }, genre.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Favorite Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-description\",\n          children: \"Search and add movies that you love to get better recommendations.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              placeholder: \"Search for movies...\",\n              className: \"search-input\",\n              onKeyDown: e => e.key === 'Enter' && handleSearch()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"search-button\",\n              onClick: handleSearch,\n              disabled: searching,\n              children: searching ? /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-spinner fa-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 30\n              }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 75\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), searching && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-container\",\n          children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n            size: \"small\",\n            message: \"Searching movies...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), searchResults.length > 0 && !searching && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-results\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Search Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"movie-results-grid\",\n            children: searchResults.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"movie-result-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"movie-poster-container\",\n                children: movie.poster_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `https://image.tmdb.org/t/p/w200${movie.poster_path}`,\n                  alt: movie.title,\n                  className: \"movie-poster\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no-poster\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-film\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"movie-result-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: movie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"movie-year\",\n                  children: movie.release_date ? new Date(movie.release_date).getFullYear() : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"add-favorite-btn\",\n                  onClick: () => handleAddFavorite(movie),\n                  disabled: favoriteMovies.some(m => m.id === movie.id),\n                  children: favoriteMovies.some(m => m.id === movie.id) ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-check\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 33\n                    }, this), \" Added\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-plus\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 33\n                    }, this), \" Add to Favorites\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 21\n              }, this)]\n            }, movie.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-movies\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Your Favorite Movies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), favoriteMovies.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"You haven't added any favorite movies yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-movies-grid\",\n            children: favoriteMovies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selected-movie-card\",\n              children: [movie.poster_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `https://image.tmdb.org/t/p/w200${movie.poster_path}`,\n                alt: movie.title,\n                className: \"selected-movie-poster\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-poster\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-film\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"selected-movie-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: movie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-btn\",\n                  onClick: () => handleRemoveFavorite(movie.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-times\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 25\n                  }, this), \" Remove\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 21\n              }, this)]\n            }, movie.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Watched Movies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-description\",\n          children: \"Movies you've marked as watched.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"watched-movies\",\n          children: watchedMovies.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"You haven't marked any movies as watched yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"watched-movies-grid\",\n            children: watchedMovies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"watched-movie-card\",\n              children: [movie.poster_path ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `https://image.tmdb.org/t/p/w200${movie.poster_path}`,\n                alt: movie.title,\n                className: \"watched-movie-poster\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-poster\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-film\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"watched-movie-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: movie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-btn\",\n                  onClick: () => handleRemoveWatched(movie.id),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-times\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 25\n                  }, this), \" Remove\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this)]\n            }, movie.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preferences-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary save-btn\",\n          onClick: handleSavePreferences,\n          children: \"Save Preferences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary view-recommendations-btn\",\n          onClick: handleViewRecommendations,\n          children: \"View Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), !user && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-prompt\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-prompt-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Save Your Preferences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Create an account or sign in to save your preferences and get personalized recommendations across devices.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sign-in-btn\",\n          onClick: () => navigate('/login'),\n          children: \"Sign In / Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .auth-container {\n          max-width: 500px;\n          margin: 0 auto;\n          padding: 2rem;\n          background-color: white;\n          border-radius: 8px;\n          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        }\n        \n        .auth-container h2 {\n          color: var(--primary);\n          margin-bottom: 1rem;\n          text-align: center;\n        }\n        \n        .auth-description {\n          color: var(--text-light);\n          margin-bottom: 2rem;\n          text-align: center;\n        }\n        \n        .auth-prompt {\n          background-color: rgba(1, 180, 228, 0.05);\n          border: 1px solid rgba(1, 180, 228, 0.2);\n          border-radius: 8px;\n          padding: 1.5rem;\n          margin-bottom: 2rem;\n        }\n        \n        .auth-prompt-content {\n          text-align: center;\n        }\n        \n        .auth-prompt h3 {\n          color: var(--primary);\n          margin-bottom: 0.5rem;\n        }\n        \n        .auth-prompt p {\n          color: var(--text-light);\n          margin-bottom: 1rem;\n        }\n        \n        .sign-in-btn {\n          background-color: var(--primary);\n          color: white;\n          border: none;\n          padding: 0.6rem 1.2rem;\n          border-radius: 4px;\n          font-size: 1rem;\n          cursor: pointer;\n          transition: background-color 0.3s;\n        }\n        \n        .sign-in-btn:hover {\n          background-color: #021d2f;\n        }\n        .preferences-page {\n          min-height: 100%;\n        }\n        \n        .preferences-header {\n          margin-bottom: 2rem;\n          text-align: center;\n        }\n        \n        .preferences-header h1 {\n          color: var(--primary);\n          margin-bottom: 1rem;\n        }\n        \n        .description {\n          max-width: 800px;\n          margin: 0 auto;\n          color: var(--text-light);\n          font-size: 1.1rem;\n        }\n        \n        .success-message {\n          background-color: rgba(56, 142, 60, 0.1);\n          color: var(--success);\n          padding: 1rem;\n          border-radius: 4px;\n          margin-bottom: 1.5rem;\n          display: flex;\n          align-items: center;\n        }\n        \n        .success-message i {\n          margin-right: 0.5rem;\n          font-size: 1.2rem;\n        }\n        \n        .preferences-content {\n          background-color: white;\n          border-radius: 8px;\n          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n          padding: 2rem;\n          margin-bottom: 2rem;\n        }\n        \n        .preferences-section {\n          margin-bottom: 3rem;\n        }\n        \n        .preferences-section:last-child {\n          margin-bottom: 0;\n        }\n        \n        .preferences-section h2 {\n          color: var(--primary);\n          margin-bottom: 0.5rem;\n          font-size: 1.5rem;\n        }\n        \n        .section-description {\n          color: var(--text-light);\n          margin-bottom: 1.5rem;\n        }\n        \n        .genres-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n          gap: 1rem;\n        }\n        \n        .genre-item {\n          padding: 0.75rem 1rem;\n          border-radius: 4px;\n          border: 1px solid var(--border);\n          cursor: pointer;\n          transition: all 0.3s;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        .genre-item:hover {\n          border-color: var(--accent);\n          transform: translateY(-2px);\n        }\n        \n        .genre-item.selected {\n          background-color: rgba(1, 180, 228, 0.1);\n          border-color: var(--accent);\n        }\n        \n        .selected-icon {\n          color: var(--accent);\n        }\n        \n        .search-container {\n          margin-bottom: 1.5rem;\n        }\n        \n        .search-input-wrapper {\n          display: flex;\n          border: 1px solid var(--border);\n          border-radius: 4px;\n          overflow: hidden;\n        }\n        \n        .search-input {\n          flex: 1;\n          padding: 0.75rem 1rem;\n          border: none;\n          font-size: 1rem;\n        }\n        \n        .search-input:focus {\n          outline: none;\n        }\n        \n        .search-button {\n          background-color: var(--primary);\n          color: white;\n          border: none;\n          padding: 0 1.5rem;\n          cursor: pointer;\n          transition: background-color 0.3s;\n        }\n        \n        .search-button:hover {\n          background-color: #021d2f;\n        }\n        \n        .loading-container {\n          display: flex;\n          justify-content: center;\n          padding: 1.5rem 0;\n        }\n        \n        .search-results {\n          margin-bottom: 2rem;\n        }\n        \n        .search-results h3, .selected-movies h3, .watched-movies h3 {\n          margin-bottom: 1rem;\n          color: var(--text);\n          font-size: 1.2rem;\n        }\n        \n        .movie-results-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n          gap: 1rem;\n        }\n        \n        .movie-result-card {\n          display: flex;\n          border: 1px solid var(--border);\n          border-radius: 6px;\n          overflow: hidden;\n          transition: transform 0.3s, box-shadow 0.3s;\n        }\n        \n        .movie-result-card:hover {\n          transform: translateY(-3px);\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n        \n        .movie-poster-container {\n          width: 80px;\n          height: 120px;\n          flex-shrink: 0;\n        }\n        \n        .movie-poster {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        \n        .no-poster {\n          width: 100%;\n          height: 100%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background-color: #f0f0f0;\n          color: var(--text-light);\n          font-size: 1.5rem;\n        }\n        \n        .movie-result-info {\n          padding: 0.75rem;\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n        }\n        \n        .movie-result-info h4 {\n          margin-bottom: 0.25rem;\n          color: var(--primary);\n          font-size: 1rem;\n        }\n        \n        .movie-year {\n          color: var(--text-light);\n          font-size: 0.9rem;\n          margin-bottom: 0.75rem;\n        }\n        \n        .add-favorite-btn {\n          background-color: transparent;\n          border: 1px solid var(--accent);\n          color: var(--accent);\n          padding: 0.4rem 0.75rem;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          transition: all 0.3s;\n          margin-top: auto;\n        }\n        \n        .add-favorite-btn:hover:not(:disabled) {\n          background-color: var(--accent);\n          color: white;\n        }\n        \n        .add-favorite-btn:disabled {\n          opacity: 0.7;\n          cursor: default;\n          background-color: rgba(1, 180, 228, 0.1);\n        }\n        \n        .selected-movies-grid, .watched-movies-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n          gap: 1rem;\n        }\n        \n        .selected-movie-card, .watched-movie-card {\n          border-radius: 6px;\n          overflow: hidden;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n          transition: transform 0.3s;\n        }\n        \n        .selected-movie-card:hover, .watched-movie-card:hover {\n          transform: translateY(-5px);\n        }\n        \n        .selected-movie-poster, .watched-movie-poster {\n          width: 100%;\n          height: 225px;\n          object-fit: cover;\n        }\n        \n        .selected-movie-info, .watched-movie-info {\n          padding: 0.75rem;\n        }\n        \n        .selected-movie-info h4, .watched-movie-info h4 {\n          font-size: 0.95rem;\n          margin-bottom: 0.5rem;\n          color: var(--text);\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        \n        .remove-btn {\n          background-color: transparent;\n          border: 1px solid #f44336;\n          color: #f44336;\n          padding: 0.3rem 0.6rem;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.8rem;\n          transition: all 0.3s;\n          width: 100%;\n        }\n        \n        .remove-btn:hover {\n          background-color: #f44336;\n          color: white;\n        }\n        \n        .empty-state {\n          padding: 2rem;\n          text-align: center;\n          background-color: #f9f9f9;\n          border-radius: 4px;\n          color: var(--text-light);\n        }\n        \n        .preferences-actions {\n          display: flex;\n          justify-content: center;\n          gap: 1rem;\n          margin-top: 2rem;\n        }\n        \n        .save-btn, .view-recommendations-btn {\n          padding: 0.75rem 2rem;\n          font-size: 1.1rem;\n        }\n        \n        @media (max-width: 768px) {\n          .genres-grid {\n            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n          }\n          \n          .movie-results-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .selected-movies-grid, .watched-movies-grid {\n            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n          }\n          \n          .preferences-actions {\n            flex-direction: column;\n            align-items: center;\n          }\n          \n          .save-btn, .view-recommendations-btn {\n            width: 100%;\n            max-width: 300px;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n};\n_s(UserPreferences, \"DY/zoP5FAJNXeL/vqQYFud/GwRc=\", false, function () {\n  return [useNavigate];\n});\n_c = UserPreferences;\nexport default UserPreferences;\nvar _c;\n$RefreshReg$(_c, \"UserPreferences\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","LoadingSpinner","Authentication","fetchGenres","searchMovies","getCurrentUser","fetchUserProfile","addFavoriteGenre","addFavoriteMovie","addWatchedMovie","saveMovieToDatabase","jsxDEV","_jsxDEV","UserPreferences","userPreferences","updateUserPreferences","_s","navigate","genres","setGenres","searchQuery","setSearchQuery","searchResults","setSearchResults","selectedGenres","setSelectedGenres","favoriteGenres","favoriteMovies","setFavoriteMovies","watchedMovies","setWatchedMovies","loading","setLoading","searching","setSearching","error","setError","saveSuccess","setSaveSuccess","user","setUser","userProfile","setUserProfile","loadingProfile","setLoadingProfile","loadUserProfile","profile","err","console","loadGenres","genresData","handleGenreToggle","genreId","prev","includes","filter","id","handleSearch","trim","data","results","handleAddFavorite","movie","movieExists","some","m","newMovie","title","poster_path","genre_ids","handleRemoveFavorite","movieId","handleRemoveWatched","handleAuthSuccess","authData","handleSavePreferences","savedMovie","setTimeout","handleViewRecommendations","requireAuth","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onAuthSuccess","message","map","genre","onClick","name","type","value","onChange","e","target","placeholder","onKeyDown","key","disabled","size","length","src","alt","release_date","Date","getFullYear","jsx","_c","$RefreshReg$"],"sources":["C:/Users/Dhanush/Downloads/cinemate (5)/cinemate/frontend/src/pages/UserPreferences.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport Authentication from '../components/Authentication';\nimport { \n  fetchGenres, \n  searchMovies, \n  getCurrentUser, \n  fetchUserProfile,\n  addFavoriteGenre, \n  addFavoriteMovie, \n  addWatchedMovie,\n  saveMovieToDatabase\n} from '../services/api';\n\nconst UserPreferences = ({ userPreferences, updateUserPreferences }) => {\n  const navigate = useNavigate();\n  const [genres, setGenres] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedGenres, setSelectedGenres] = useState(userPreferences?.favoriteGenres || []);\n  const [favoriteMovies, setFavoriteMovies] = useState(userPreferences?.favoriteMovies || []);\n  const [watchedMovies, setWatchedMovies] = useState(userPreferences?.watchedMovies || []);\n  const [loading, setLoading] = useState(false);\n  const [searching, setSearching] = useState(false);\n  const [error, setError] = useState(null);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n  \n  // Authentication and user profile states\n  const [user, setUser] = useState(getCurrentUser());\n  const [userProfile, setUserProfile] = useState(null);\n  const [loadingProfile, setLoadingProfile] = useState(false);\n\n  // Load user profile if authenticated\n  useEffect(() => {\n    const loadUserProfile = async () => {\n      if (user) {\n        try {\n          setLoadingProfile(true);\n          const profile = await fetchUserProfile();\n          setUserProfile(profile);\n        } catch (err) {\n          console.error('Error fetching user profile:', err);\n        } finally {\n          setLoadingProfile(false);\n        }\n      }\n    };\n    \n    loadUserProfile();\n  }, [user]);\n\n  useEffect(() => {\n    const loadGenres = async () => {\n      try {\n        setLoading(true);\n        const genresData = await fetchGenres();\n        setGenres(genresData.genres);\n        setError(null);\n      } catch (err) {\n        setError('Failed to load genres. Please try again later.');\n        console.error('Error fetching genres:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadGenres();\n  }, []);\n\n  useEffect(() => {\n    // Initialize selected genres from user preferences\n    setSelectedGenres(userPreferences.favoriteGenres || []);\n    setFavoriteMovies(userPreferences.favoriteMovies || []);\n    setWatchedMovies(userPreferences.watchedMovies || []);\n  }, [userPreferences]);\n\n  const handleGenreToggle = (genreId) => {\n    setSelectedGenres(prev => {\n      if (prev.includes(genreId)) {\n        return prev.filter(id => id !== genreId);\n      } else {\n        return [...prev, genreId];\n      }\n    });\n  };\n\n  const handleSearch = async () => {\n    if (!searchQuery.trim()) return;\n    \n    try {\n      setSearching(true);\n      setError(null);\n      \n      const data = await searchMovies(searchQuery);\n      setSearchResults(data.results);\n    } catch (err) {\n      setError('Failed to search movies. Please try again later.');\n      console.error('Error searching movies:', err);\n    } finally {\n      setSearching(false);\n    }\n  };\n\n  const handleAddFavorite = (movie) => {\n    const movieExists = favoriteMovies.some(m => m.id === movie.id);\n    \n    if (!movieExists) {\n      const newMovie = {\n        id: movie.id,\n        title: movie.title,\n        poster_path: movie.poster_path,\n        genre_ids: movie.genre_ids\n      };\n      \n      setFavoriteMovies(prev => [...prev, newMovie]);\n    }\n  };\n\n  const handleRemoveFavorite = (movieId) => {\n    setFavoriteMovies(prev => prev.filter(movie => movie.id !== movieId));\n  };\n\n  const handleRemoveWatched = (movieId) => {\n    setWatchedMovies(prev => prev.filter(movie => movie.id !== movieId));\n  };\n\n  // Handle authentication\n  const handleAuthSuccess = (authData) => {\n    setUser(getCurrentUser());\n  };\n  \n  // Save preferences to database if logged in, or to local state if not\n  const handleSavePreferences = async () => {\n    if (user && userProfile) {\n      try {\n        setLoading(true);\n        \n        // First, sync selected genres to user profile\n        for (const genreId of selectedGenres) {\n          await addFavoriteGenre(userProfile.id, genreId);\n        }\n        \n        // Save favorite movies to database\n        for (const movie of favoriteMovies) {\n          // First save the movie to the database\n          const savedMovie = await saveMovieToDatabase(movie.id);\n          // Then add it to user's favorites\n          await addFavoriteMovie(userProfile.id, savedMovie.id);\n        }\n        \n        // Save watch history\n        for (const movie of watchedMovies) {\n          const savedMovie = await saveMovieToDatabase(movie.id);\n          await addWatchedMovie(userProfile.id, savedMovie.id);\n        }\n        \n        setSaveSuccess(true);\n      } catch (err) {\n        setError('Failed to save preferences to your profile. Please try again.');\n        console.error('Error saving preferences:', err);\n      } finally {\n        setLoading(false);\n      }\n    } else {\n      // Save to local storage via parent component\n      updateUserPreferences({\n        favoriteGenres: selectedGenres,\n        favoriteMovies: favoriteMovies,\n        watchedMovies: watchedMovies\n      });\n      \n      setSaveSuccess(true);\n    }\n    \n    // Reset success message after 3 seconds\n    setTimeout(() => {\n      setSaveSuccess(false);\n    }, 3000);\n  };\n\n  const handleViewRecommendations = () => {\n    navigate('/recommendations');\n  };\n\n  // Show authentication form if user is not authenticated\n  if (!user && userPreferences.requireAuth) {\n    return (\n      <div className=\"auth-container\">\n        <h2>Sign In to Save Your Preferences</h2>\n        <p className=\"auth-description\">\n          Sign in or create an account to save your movie preferences and get personalized recommendations across devices.\n        </p>\n        <Authentication onAuthSuccess={handleAuthSuccess} />\n      </div>\n    );\n  }\n\n  if (loading || loadingProfile) {\n    return <LoadingSpinner message=\"Loading data...\" />;\n  }\n\n  return (\n    <div className=\"preferences-page\">\n      <div className=\"preferences-header\">\n        <h1>Your Movie Preferences</h1>\n        <p className=\"description\">\n          Customize your movie preferences to get personalized recommendations.\n          Select your favorite genres and movies to help us understand your taste.\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          <i className=\"fas fa-exclamation-circle\"></i> {error}\n        </div>\n      )}\n\n      {saveSuccess && (\n        <div className=\"success-message\">\n          <i className=\"fas fa-check-circle\"></i> Your preferences have been saved successfully!\n        </div>\n      )}\n\n      <div className=\"preferences-content\">\n        <div className=\"preferences-section\">\n          <h2>Favorite Genres</h2>\n          <p className=\"section-description\">\n            Select the genres you enjoy watching the most.\n          </p>\n          \n          <div className=\"genres-grid\">\n            {genres.map(genre => (\n              <div \n                key={genre.id}\n                className={`genre-item ${selectedGenres.includes(genre.id) ? 'selected' : ''}`}\n                onClick={() => handleGenreToggle(genre.id)}\n              >\n                <span className=\"genre-name\">{genre.name}</span>\n                {selectedGenres.includes(genre.id) && (\n                  <i className=\"fas fa-check selected-icon\"></i>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"preferences-section\">\n          <h2>Favorite Movies</h2>\n          <p className=\"section-description\">\n            Search and add movies that you love to get better recommendations.\n          </p>\n          \n          <div className=\"search-container\">\n            <div className=\"search-input-wrapper\">\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search for movies...\"\n                className=\"search-input\"\n                onKeyDown={(e) => e.key === 'Enter' && handleSearch()}\n              />\n              <button className=\"search-button\" onClick={handleSearch} disabled={searching}>\n                {searching ? <i className=\"fas fa-spinner fa-spin\"></i> : <i className=\"fas fa-search\"></i>}\n              </button>\n            </div>\n          </div>\n\n          {searching && (\n            <div className=\"loading-container\">\n              <LoadingSpinner size=\"small\" message=\"Searching movies...\" />\n            </div>\n          )}\n\n          {searchResults.length > 0 && !searching && (\n            <div className=\"search-results\">\n              <h3>Search Results</h3>\n              <div className=\"movie-results-grid\">\n                {searchResults.map(movie => (\n                  <div key={movie.id} className=\"movie-result-card\">\n                    <div className=\"movie-poster-container\">\n                      {movie.poster_path ? (\n                        <img \n                          src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`} \n                          alt={movie.title} \n                          className=\"movie-poster\"\n                        />\n                      ) : (\n                        <div className=\"no-poster\">\n                          <i className=\"fas fa-film\"></i>\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"movie-result-info\">\n                      <h4>{movie.title}</h4>\n                      <p className=\"movie-year\">\n                        {movie.release_date ? new Date(movie.release_date).getFullYear() : 'N/A'}\n                      </p>\n                      <button \n                        className=\"add-favorite-btn\"\n                        onClick={() => handleAddFavorite(movie)}\n                        disabled={favoriteMovies.some(m => m.id === movie.id)}\n                      >\n                        {favoriteMovies.some(m => m.id === movie.id) ? (\n                          <span><i className=\"fas fa-check\"></i> Added</span>\n                        ) : (\n                          <span><i className=\"fas fa-plus\"></i> Add to Favorites</span>\n                        )}\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div className=\"selected-movies\">\n            <h3>Your Favorite Movies</h3>\n            {favoriteMovies.length === 0 ? (\n              <div className=\"empty-state\">\n                <p>You haven't added any favorite movies yet.</p>\n              </div>\n            ) : (\n              <div className=\"selected-movies-grid\">\n                {favoriteMovies.map(movie => (\n                  <div key={movie.id} className=\"selected-movie-card\">\n                    {movie.poster_path ? (\n                      <img \n                        src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`} \n                        alt={movie.title} \n                        className=\"selected-movie-poster\"\n                      />\n                    ) : (\n                      <div className=\"no-poster\">\n                        <i className=\"fas fa-film\"></i>\n                      </div>\n                    )}\n                    <div className=\"selected-movie-info\">\n                      <h4>{movie.title}</h4>\n                      <button \n                        className=\"remove-btn\"\n                        onClick={() => handleRemoveFavorite(movie.id)}\n                      >\n                        <i className=\"fas fa-times\"></i> Remove\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"preferences-section\">\n          <h2>Watched Movies</h2>\n          <p className=\"section-description\">\n            Movies you've marked as watched.\n          </p>\n          \n          <div className=\"watched-movies\">\n            {watchedMovies.length === 0 ? (\n              <div className=\"empty-state\">\n                <p>You haven't marked any movies as watched yet.</p>\n              </div>\n            ) : (\n              <div className=\"watched-movies-grid\">\n                {watchedMovies.map(movie => (\n                  <div key={movie.id} className=\"watched-movie-card\">\n                    {movie.poster_path ? (\n                      <img \n                        src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`} \n                        alt={movie.title} \n                        className=\"watched-movie-poster\"\n                      />\n                    ) : (\n                      <div className=\"no-poster\">\n                        <i className=\"fas fa-film\"></i>\n                      </div>\n                    )}\n                    <div className=\"watched-movie-info\">\n                      <h4>{movie.title}</h4>\n                      <button \n                        className=\"remove-btn\"\n                        onClick={() => handleRemoveWatched(movie.id)}\n                      >\n                        <i className=\"fas fa-times\"></i> Remove\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"preferences-actions\">\n          <button \n            className=\"btn btn-primary save-btn\"\n            onClick={handleSavePreferences}\n          >\n            Save Preferences\n          </button>\n          <button \n            className=\"btn btn-secondary view-recommendations-btn\"\n            onClick={handleViewRecommendations}\n          >\n            View Recommendations\n          </button>\n        </div>\n      </div>\n\n      {!user && (\n        <div className=\"auth-prompt\">\n          <div className=\"auth-prompt-content\">\n            <h3>Save Your Preferences</h3>\n            <p>\n              Create an account or sign in to save your preferences and get personalized recommendations across devices.\n            </p>\n            <button className=\"sign-in-btn\" onClick={() => navigate('/login')}>\n              Sign In / Register\n            </button>\n          </div>\n        </div>\n      )}\n\n      <style jsx>{`\n        .auth-container {\n          max-width: 500px;\n          margin: 0 auto;\n          padding: 2rem;\n          background-color: white;\n          border-radius: 8px;\n          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n        }\n        \n        .auth-container h2 {\n          color: var(--primary);\n          margin-bottom: 1rem;\n          text-align: center;\n        }\n        \n        .auth-description {\n          color: var(--text-light);\n          margin-bottom: 2rem;\n          text-align: center;\n        }\n        \n        .auth-prompt {\n          background-color: rgba(1, 180, 228, 0.05);\n          border: 1px solid rgba(1, 180, 228, 0.2);\n          border-radius: 8px;\n          padding: 1.5rem;\n          margin-bottom: 2rem;\n        }\n        \n        .auth-prompt-content {\n          text-align: center;\n        }\n        \n        .auth-prompt h3 {\n          color: var(--primary);\n          margin-bottom: 0.5rem;\n        }\n        \n        .auth-prompt p {\n          color: var(--text-light);\n          margin-bottom: 1rem;\n        }\n        \n        .sign-in-btn {\n          background-color: var(--primary);\n          color: white;\n          border: none;\n          padding: 0.6rem 1.2rem;\n          border-radius: 4px;\n          font-size: 1rem;\n          cursor: pointer;\n          transition: background-color 0.3s;\n        }\n        \n        .sign-in-btn:hover {\n          background-color: #021d2f;\n        }\n        .preferences-page {\n          min-height: 100%;\n        }\n        \n        .preferences-header {\n          margin-bottom: 2rem;\n          text-align: center;\n        }\n        \n        .preferences-header h1 {\n          color: var(--primary);\n          margin-bottom: 1rem;\n        }\n        \n        .description {\n          max-width: 800px;\n          margin: 0 auto;\n          color: var(--text-light);\n          font-size: 1.1rem;\n        }\n        \n        .success-message {\n          background-color: rgba(56, 142, 60, 0.1);\n          color: var(--success);\n          padding: 1rem;\n          border-radius: 4px;\n          margin-bottom: 1.5rem;\n          display: flex;\n          align-items: center;\n        }\n        \n        .success-message i {\n          margin-right: 0.5rem;\n          font-size: 1.2rem;\n        }\n        \n        .preferences-content {\n          background-color: white;\n          border-radius: 8px;\n          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n          padding: 2rem;\n          margin-bottom: 2rem;\n        }\n        \n        .preferences-section {\n          margin-bottom: 3rem;\n        }\n        \n        .preferences-section:last-child {\n          margin-bottom: 0;\n        }\n        \n        .preferences-section h2 {\n          color: var(--primary);\n          margin-bottom: 0.5rem;\n          font-size: 1.5rem;\n        }\n        \n        .section-description {\n          color: var(--text-light);\n          margin-bottom: 1.5rem;\n        }\n        \n        .genres-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n          gap: 1rem;\n        }\n        \n        .genre-item {\n          padding: 0.75rem 1rem;\n          border-radius: 4px;\n          border: 1px solid var(--border);\n          cursor: pointer;\n          transition: all 0.3s;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        .genre-item:hover {\n          border-color: var(--accent);\n          transform: translateY(-2px);\n        }\n        \n        .genre-item.selected {\n          background-color: rgba(1, 180, 228, 0.1);\n          border-color: var(--accent);\n        }\n        \n        .selected-icon {\n          color: var(--accent);\n        }\n        \n        .search-container {\n          margin-bottom: 1.5rem;\n        }\n        \n        .search-input-wrapper {\n          display: flex;\n          border: 1px solid var(--border);\n          border-radius: 4px;\n          overflow: hidden;\n        }\n        \n        .search-input {\n          flex: 1;\n          padding: 0.75rem 1rem;\n          border: none;\n          font-size: 1rem;\n        }\n        \n        .search-input:focus {\n          outline: none;\n        }\n        \n        .search-button {\n          background-color: var(--primary);\n          color: white;\n          border: none;\n          padding: 0 1.5rem;\n          cursor: pointer;\n          transition: background-color 0.3s;\n        }\n        \n        .search-button:hover {\n          background-color: #021d2f;\n        }\n        \n        .loading-container {\n          display: flex;\n          justify-content: center;\n          padding: 1.5rem 0;\n        }\n        \n        .search-results {\n          margin-bottom: 2rem;\n        }\n        \n        .search-results h3, .selected-movies h3, .watched-movies h3 {\n          margin-bottom: 1rem;\n          color: var(--text);\n          font-size: 1.2rem;\n        }\n        \n        .movie-results-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n          gap: 1rem;\n        }\n        \n        .movie-result-card {\n          display: flex;\n          border: 1px solid var(--border);\n          border-radius: 6px;\n          overflow: hidden;\n          transition: transform 0.3s, box-shadow 0.3s;\n        }\n        \n        .movie-result-card:hover {\n          transform: translateY(-3px);\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n        \n        .movie-poster-container {\n          width: 80px;\n          height: 120px;\n          flex-shrink: 0;\n        }\n        \n        .movie-poster {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        \n        .no-poster {\n          width: 100%;\n          height: 100%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background-color: #f0f0f0;\n          color: var(--text-light);\n          font-size: 1.5rem;\n        }\n        \n        .movie-result-info {\n          padding: 0.75rem;\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n        }\n        \n        .movie-result-info h4 {\n          margin-bottom: 0.25rem;\n          color: var(--primary);\n          font-size: 1rem;\n        }\n        \n        .movie-year {\n          color: var(--text-light);\n          font-size: 0.9rem;\n          margin-bottom: 0.75rem;\n        }\n        \n        .add-favorite-btn {\n          background-color: transparent;\n          border: 1px solid var(--accent);\n          color: var(--accent);\n          padding: 0.4rem 0.75rem;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          transition: all 0.3s;\n          margin-top: auto;\n        }\n        \n        .add-favorite-btn:hover:not(:disabled) {\n          background-color: var(--accent);\n          color: white;\n        }\n        \n        .add-favorite-btn:disabled {\n          opacity: 0.7;\n          cursor: default;\n          background-color: rgba(1, 180, 228, 0.1);\n        }\n        \n        .selected-movies-grid, .watched-movies-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n          gap: 1rem;\n        }\n        \n        .selected-movie-card, .watched-movie-card {\n          border-radius: 6px;\n          overflow: hidden;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n          transition: transform 0.3s;\n        }\n        \n        .selected-movie-card:hover, .watched-movie-card:hover {\n          transform: translateY(-5px);\n        }\n        \n        .selected-movie-poster, .watched-movie-poster {\n          width: 100%;\n          height: 225px;\n          object-fit: cover;\n        }\n        \n        .selected-movie-info, .watched-movie-info {\n          padding: 0.75rem;\n        }\n        \n        .selected-movie-info h4, .watched-movie-info h4 {\n          font-size: 0.95rem;\n          margin-bottom: 0.5rem;\n          color: var(--text);\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        \n        .remove-btn {\n          background-color: transparent;\n          border: 1px solid #f44336;\n          color: #f44336;\n          padding: 0.3rem 0.6rem;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.8rem;\n          transition: all 0.3s;\n          width: 100%;\n        }\n        \n        .remove-btn:hover {\n          background-color: #f44336;\n          color: white;\n        }\n        \n        .empty-state {\n          padding: 2rem;\n          text-align: center;\n          background-color: #f9f9f9;\n          border-radius: 4px;\n          color: var(--text-light);\n        }\n        \n        .preferences-actions {\n          display: flex;\n          justify-content: center;\n          gap: 1rem;\n          margin-top: 2rem;\n        }\n        \n        .save-btn, .view-recommendations-btn {\n          padding: 0.75rem 2rem;\n          font-size: 1.1rem;\n        }\n        \n        @media (max-width: 768px) {\n          .genres-grid {\n            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n          }\n          \n          .movie-results-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .selected-movies-grid, .watched-movies-grid {\n            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n          }\n          \n          .preferences-actions {\n            flex-direction: column;\n            align-items: center;\n          }\n          \n          .save-btn, .view-recommendations-btn {\n            width: 100%;\n            max-width: 300px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default UserPreferences;\n"],"mappings":"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A;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9BzE,OAAA;UAAAqE,QAAA,EAAG;QAEH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJzE,OAAA;UAAQoE,SAAS,EAAC,aAAa;UAACU,OAAO,EAAEA,CAAA,KAAMzE,QAAQ,CAAC,QAAQ,CAAE;UAAAgE,QAAA,EAAC;QAEnE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAEDzE,OAAA;MAAOgG,GAAG;MAAA3B,QAAA,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAACrE,EAAA,CA7xBIH,eAAe;EAAA,QACFb,WAAW;AAAA;AAAA6G,EAAA,GADxBhG,eAAe;AA+xBrB,eAAeA,eAAe;AAAC,IAAAgG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}